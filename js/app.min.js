(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

require('./modules/nav');

require('./modules/tabs');

require('./modules/openClose');

jQuery(document).ready(function ($) {

    $('body').on('click', '.scroll-link', function () {
        var offset = $('.body-holder').position().top;
        $(".modal").animate({ scrollTop: offset }, 'slow');
    });

    $(".fancybox-media").fancybox({
        openEffect: 'none',
        closeEffect: 'none',
        helpers: {
            media: {}
        }
    });
    $(function () {
        if ($(window).width() > 1024) {
            skrollr.init({ forceHeight: false });
            $('.scroll-block').jScrollPane();
        }
    });
    $(".economes-popup").fancybox({
        maxWidth: 500,
        maxHeight: 400,
        fitToView: true,
        autoSize: true,
        closeClick: false,
        openEffect: 'none',
        closeEffect: 'none'
    });
    $(".fancybox-media").fancybox({
        openEffect: 'none',
        closeEffect: 'none',
        helpers: {
            media: {}
        }
    });
    $('.scroll-block').jScrollPane();
    $('.under-mask').jScrollPane();
});

},{"./modules/nav":2,"./modules/openClose":3,"./modules/tabs":4}],2:[function(require,module,exports){
"use strict";

// page init
jQuery(function () {
    initMobileNav();
    $(".drop-opener").click(function (event) {
        event.preventDefault();
        $(this).parent().find(".dropdown").toggleClass("opened");
    });
    $("body").click(function (e) {
        if ($(e.target).closest(".holder2").length == 0) $(".dropdown").removeClass("opened");
        if ($(e.target).closest(".share-opened").length == 0) $(".share-holder").removeClass("share-opened");
    });
    $(".share-holder").click(function (event) {
        event.preventDefault();
        $(this).toggleClass("share-opened");
    });
});

// mobile menu init
function initMobileNav() {
    jQuery('body').mobileNav({
        hideOnClickOutside: true,
        menuActiveClass: 'nav-active',
        menuOpener: '.menu-opener',
        menuDrop: '.nav-holder'
    });
}

/*
 * Simple Mobile Navigation
 */
;
(function ($) {
    function MobileNav(options) {
        this.options = $.extend({
            container: null,
            hideOnClickOutside: false,
            menuActiveClass: 'nav-active',
            menuOpener: '.nav-opener',
            menuDrop: '.nav-drop',
            toggleEvent: 'click',
            outsideClickEvent: 'click touchstart pointerdown MSPointerDown'
        }, options);
        this.initStructure();
        this.attachEvents();
    }
    MobileNav.prototype = {
        initStructure: function initStructure() {
            this.page = $('html');
            this.container = $(this.options.container);
            this.opener = this.container.find(this.options.menuOpener);
            this.drop = this.container.find(this.options.menuDrop);
        },
        attachEvents: function attachEvents() {
            var self = this;

            if (activateResizeHandler) {
                activateResizeHandler();
                activateResizeHandler = null;
            }

            this.outsideClickHandler = function (e) {
                if (self.isOpened()) {
                    var target = $(e.target);
                    if (!target.closest(self.opener).length && !target.closest(self.drop).length) {
                        self.hide();
                    }
                }
            };

            this.openerClickHandler = function (e) {
                e.preventDefault();
                self.toggle();
            };

            this.opener.on(this.options.toggleEvent, this.openerClickHandler);
        },
        isOpened: function isOpened() {
            return this.container.hasClass(this.options.menuActiveClass);
        },
        show: function show() {
            this.container.addClass(this.options.menuActiveClass);
            if (this.options.hideOnClickOutside) {
                this.page.on(this.options.outsideClickEvent, this.outsideClickHandler);
            }
        },
        hide: function hide() {
            this.container.removeClass(this.options.menuActiveClass);
            if (this.options.hideOnClickOutside) {
                this.page.off(this.options.outsideClickEvent, this.outsideClickHandler);
            }
        },
        toggle: function toggle() {
            if (this.isOpened()) {
                this.hide();
            } else {
                this.show();
            }
        },
        destroy: function destroy() {
            this.container.removeClass(this.options.menuActiveClass);
            this.opener.off(this.options.toggleEvent, this.clickHandler);
            this.page.off(this.options.outsideClickEvent, this.outsideClickHandler);
        }
    };

    var activateResizeHandler = function activateResizeHandler() {
        var win = $(window),
            doc = $('html'),
            resizeClass = 'resize-active',
            flag,
            timer;
        var removeClassHandler = function removeClassHandler() {
            flag = false;
            doc.removeClass(resizeClass);
        };
        var resizeHandler = function resizeHandler() {
            if (!flag) {
                flag = true;
                doc.addClass(resizeClass);
            }
            clearTimeout(timer);
            timer = setTimeout(removeClassHandler, 500);
        };
        win.on('resize orientationchange', resizeHandler);
    };

    $.fn.mobileNav = function (options) {
        return this.each(function () {
            var params = $.extend({}, options, { container: this }),
                instance = new MobileNav(params);
            $.data(this, 'MobileNav', instance);
        });
    };
})(jQuery);

},{}],3:[function(require,module,exports){
'use strict';

// page init
jQuery(function () {
	initOpenClose();
});

// open-close init
function initOpenClose() {
	jQuery('div.open-box-text').openClose({
		hideOnClickOutside: true,
		activeClass: 'active',
		opener: '.open-text-btn',
		slider: '.holder-text',
		animSpeed: 400,
		effect: 'slide'
	});
}

/*
 * jQuery Open/Close plugin
 */
;(function ($) {
	function OpenClose(options) {
		this.options = $.extend({
			addClassBeforeAnimation: true,
			hideOnClickOutside: false,
			activeClass: 'active',
			opener: '.opener',
			slider: '.slide',
			animSpeed: 400,
			effect: 'fade',
			event: 'click'
		}, options);
		this.init();
	}
	OpenClose.prototype = {
		init: function init() {
			if (this.options.holder) {
				this.findElements();
				this.attachEvents();
				this.makeCallback('onInit', this);
			}
		},
		findElements: function findElements() {
			this.holder = $(this.options.holder);
			this.opener = this.holder.find(this.options.opener);
			this.slider = this.holder.find(this.options.slider);
		},
		attachEvents: function attachEvents() {
			// add handler
			var self = this;
			this.eventHandler = function (e) {
				e.preventDefault();
				if (self.slider.hasClass(slideHiddenClass)) {
					self.showSlide();
				} else {
					self.hideSlide();
				}
			};
			self.opener.bind(self.options.event, this.eventHandler);

			// hover mode handler
			if (self.options.event === 'over') {
				self.opener.bind('mouseenter', function () {
					if (!self.holder.hasClass(self.options.activeClass)) {
						self.showSlide();
					}
				});
				self.holder.bind('mouseleave', function () {
					self.hideSlide();
				});
			}

			// outside click handler
			self.outsideClickHandler = function (e) {
				if (self.options.hideOnClickOutside) {
					var target = $(e.target);
					if (!target.is(self.holder) && !target.closest(self.holder).length) {
						self.hideSlide();
					}
				}
			};

			// set initial styles
			if (this.holder.hasClass(this.options.activeClass)) {
				$(document).bind('click touchstart', self.outsideClickHandler);
			} else {
				this.slider.addClass(slideHiddenClass);
			}
		},
		showSlide: function showSlide() {
			var self = this;
			if (self.options.addClassBeforeAnimation) {
				self.holder.addClass(self.options.activeClass);
			}
			self.slider.removeClass(slideHiddenClass);
			$(document).bind('click touchstart', self.outsideClickHandler);

			self.makeCallback('animStart', true);
			toggleEffects[self.options.effect].show({
				box: self.slider,
				speed: self.options.animSpeed,
				complete: function complete() {
					if (!self.options.addClassBeforeAnimation) {
						self.holder.addClass(self.options.activeClass);
					}
					self.makeCallback('animEnd', true);
				}
			});
		},
		hideSlide: function hideSlide() {
			var self = this;
			if (self.options.addClassBeforeAnimation) {
				self.holder.removeClass(self.options.activeClass);
			}
			$(document).unbind('click touchstart', self.outsideClickHandler);

			self.makeCallback('animStart', false);
			toggleEffects[self.options.effect].hide({
				box: self.slider,
				speed: self.options.animSpeed,
				complete: function complete() {
					if (!self.options.addClassBeforeAnimation) {
						self.holder.removeClass(self.options.activeClass);
					}
					self.slider.addClass(slideHiddenClass);
					self.makeCallback('animEnd', false);
				}
			});
		},
		destroy: function destroy() {
			this.slider.removeClass(slideHiddenClass).css({ display: '' });
			this.opener.unbind(this.options.event, this.eventHandler);
			this.holder.removeClass(this.options.activeClass).removeData('OpenClose');
			$(document).unbind('click touchstart', this.outsideClickHandler);
		},
		makeCallback: function makeCallback(name) {
			if (typeof this.options[name] === 'function') {
				var args = Array.prototype.slice.call(arguments);
				args.shift();
				this.options[name].apply(this, args);
			}
		}
	};

	// add stylesheet for slide on DOMReady
	var slideHiddenClass = 'js-slide-hidden';
	(function () {
		var tabStyleSheet = $('<style type="text/css">')[0];
		var tabStyleRule = '.' + slideHiddenClass;
		tabStyleRule += '{position:absolute !important;left:-9999px !important;top:-9999px !important;display:block !important}';
		if (tabStyleSheet.styleSheet) {
			tabStyleSheet.styleSheet.cssText = tabStyleRule;
		} else {
			tabStyleSheet.appendChild(document.createTextNode(tabStyleRule));
		}
		$('head').append(tabStyleSheet);
	})();

	// animation effects
	var toggleEffects = {
		slide: {
			show: function show(o) {
				o.box.stop(true).hide().slideDown(o.speed, o.complete);
			},
			hide: function hide(o) {
				o.box.stop(true).slideUp(o.speed, o.complete);
			}
		},
		fade: {
			show: function show(o) {
				o.box.stop(true).hide().fadeIn(o.speed, o.complete);
			},
			hide: function hide(o) {
				o.box.stop(true).fadeOut(o.speed, o.complete);
			}
		},
		none: {
			show: function show(o) {
				o.box.hide().show(0, o.complete);
			},
			hide: function hide(o) {
				o.box.hide(0, o.complete);
			}
		}
	};

	// jQuery plugin interface
	$.fn.openClose = function (opt) {
		return this.each(function () {
			jQuery(this).data('OpenClose', new OpenClose($.extend(opt, { holder: this })));
		});
	};
})(jQuery);

},{}],4:[function(require,module,exports){
'use strict';

// page init
jQuery(function () {
	initTabs();
});

// content tabs init
function initTabs() {
	jQuery('ul.tabset').tabset({
		tabLinks: 'a',
		defaultTab: false
	});
}

/*
 * jQuery Tabs plugin
 */

;(function ($, $win) {
	'use strict';

	function Tabset($holder, options) {
		this.$holder = $holder;
		this.options = options;

		this.init();
		this.makeCallback('onInit', this);
	}

	Tabset.prototype = {
		init: function init() {
			this.$tabLinks = this.$holder.find(this.options.tabLinks);

			this.setStartActiveIndex();
			this.setActiveTab();

			if (this.options.autoHeight) {
				this.$tabHolder = $(this.$tabLinks.eq(0).attr(this.options.attrib)).parent();
			}
		},

		setStartActiveIndex: function setStartActiveIndex() {
			var $classTargets = this.getClassTarget(this.$tabLinks);
			var $activeLink = $classTargets.filter('.' + this.options.activeClass);
			var $hashLink = this.$tabLinks.filter('[' + this.options.attrib + '="' + location.hash + '"]');
			var activeIndex;

			if (this.options.checkHash && $hashLink.length) {
				$activeLink = $hashLink;
			}

			activeIndex = $classTargets.index($activeLink);

			this.activeTabIndex = this.prevTabIndex = activeIndex === -1 ? this.options.defaultTab ? 0 : null : activeIndex;
		},

		setActiveTab: function setActiveTab() {
			var self = this;

			this.$tabLinks.each(function (i, link) {
				var $link = $(link);
				var $classTarget = self.getClassTarget($link);
				var $tab = $($link.attr(self.options.attrib));

				if (i !== self.activeTabIndex) {
					$classTarget.removeClass(self.options.activeClass);
					$tab.addClass(self.options.tabHiddenClass).removeClass(self.options.activeClass);
				} else {
					$classTarget.addClass(self.options.activeClass);
					$tab.removeClass(self.options.tabHiddenClass).addClass(self.options.activeClass);
				}

				self.attachTabLink($link, i);
			});
		},

		attachTabLink: function attachTabLink($link, i) {
			var self = this;

			$link.on(this.options.event + '.tabset', function (e) {
				e.preventDefault();

				if (self.activeTabIndex === self.prevTabIndex && self.activeTabIndex !== i) {
					self.activeTabIndex = i;
					self.switchTabs();
				}
			});
		},

		resizeHolder: function resizeHolder(height) {
			var self = this;

			if (height) {
				this.$tabHolder.height(height);
				setTimeout(function () {
					self.$tabHolder.addClass('transition');
				}, 10);
			} else {
				self.$tabHolder.removeClass('transition').height('');
			}
		},

		switchTabs: function switchTabs() {
			var self = this;

			var $prevLink = this.$tabLinks.eq(this.prevTabIndex);
			var $nextLink = this.$tabLinks.eq(this.activeTabIndex);

			var $prevTab = this.getTab($prevLink);
			var $nextTab = this.getTab($nextLink);

			$prevTab.removeClass(this.options.activeClass);

			if (self.haveTabHolder()) {
				this.resizeHolder($prevTab.outerHeight());
			}

			setTimeout(function () {
				self.getClassTarget($prevLink).removeClass(self.options.activeClass);

				$prevTab.addClass(self.options.tabHiddenClass);
				$nextTab.removeClass(self.options.tabHiddenClass).addClass(self.options.activeClass);

				self.getClassTarget($nextLink).addClass(self.options.activeClass);

				if (self.haveTabHolder()) {
					self.resizeHolder($nextTab.outerHeight());

					setTimeout(function () {
						self.resizeHolder();
						self.prevTabIndex = self.activeTabIndex;
					}, self.options.animSpeed);
				} else {
					self.prevTabIndex = self.activeTabIndex;
				}
				// onchange callback
				self.makeCallback('onChange', self, $nextLink);
			}, this.options.autoHeight ? this.options.animSpeed : 1);
		},

		getClassTarget: function getClassTarget($link) {
			return this.options.addToParent ? $link.parent() : $link;
		},

		getActiveTab: function getActiveTab() {
			return this.getTab(this.$tabLinks.eq(this.activeTabIndex));
		},

		getTab: function getTab($link) {
			return $($link.attr(this.options.attrib));
		},

		haveTabHolder: function haveTabHolder() {
			return this.$tabHolder && this.$tabHolder.length;
		},

		makeCallback: function makeCallback(name) {
			if (typeof this.options[name] === 'function') {
				var args = Array.prototype.slice.call(arguments);
				args.shift();
				this.options[name].apply(this, args);
			}
		},

		destroy: function destroy() {
			var self = this;

			this.$tabLinks.off('.tabset').each(function () {
				var $link = $(this);

				self.getClassTarget($link).removeClass(self.options.activeClass);
				$($link.attr(self.options.attrib)).removeClass(self.options.activeClass + ' ' + self.options.tabHiddenClass);
			});

			this.$holder.removeData('Tabset');
		}
	};

	$.fn.tabset = function (options) {
		options = $.extend({
			activeClass: 'active',
			addToParent: false,
			autoHeight: false,
			checkHash: false,
			defaultTab: true,
			animSpeed: 500,
			tabLinks: 'a',
			attrib: 'href',
			event: 'click',
			tabHiddenClass: 'js-tab-hidden'
		}, options);
		options.autoHeight = options.autoHeight && $.support.opacity;

		return this.each(function () {
			var $holder = $(this);

			if (!$holder.data('Tabset')) {
				$holder.data('Tabset', new Tabset($holder, options));
			}
		});
	};
})(jQuery, jQuery(window));

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGpzXFxhcHAuanMiLCJzcmNcXGpzXFxtb2R1bGVzXFxuYXYuanMiLCJzcmNcXGpzXFxtb2R1bGVzXFxvcGVuQ2xvc2UuanMiLCJzcmNcXGpzXFxtb2R1bGVzXFx0YWJzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7QUFDQTs7QUFDQTs7QUFLQSxPQUFPLFFBQVAsRUFBaUIsS0FBakIsQ0FBdUIsVUFBUyxDQUFULEVBQVk7O0FBRzdCLE1BQUUsTUFBRixFQUFVLEVBQVYsQ0FBYSxPQUFiLEVBQXNCLGNBQXRCLEVBQXNDLFlBQVc7QUFDL0MsWUFBSSxTQUFTLEVBQUUsY0FBRixFQUFrQixRQUFsQixHQUE2QixHQUExQztBQUNBLFVBQUUsUUFBRixFQUFZLE9BQVosQ0FBb0IsRUFBRSxXQUFXLE1BQWIsRUFBcEIsRUFBMkMsTUFBM0M7QUFDSCxLQUhDOztBQUtGLE1BQUUsaUJBQUYsRUFBcUIsUUFBckIsQ0FBOEI7QUFDMUIsb0JBQVksTUFEYztBQUUxQixxQkFBYSxNQUZhO0FBRzFCLGlCQUFTO0FBQ0wsbUJBQU87QUFERjtBQUhpQixLQUE5QjtBQU9BLE1BQUUsWUFBVztBQUNULFlBQUksRUFBRSxNQUFGLEVBQVUsS0FBVixLQUFvQixJQUF4QixFQUE4QjtBQUMxQixvQkFBUSxJQUFSLENBQWEsRUFBRSxhQUFhLEtBQWYsRUFBYjtBQUNBLGNBQUUsZUFBRixFQUFtQixXQUFuQjtBQUNIO0FBQ0osS0FMRDtBQU1BLE1BQUUsaUJBQUYsRUFBcUIsUUFBckIsQ0FBOEI7QUFDMUIsa0JBQVUsR0FEZ0I7QUFFMUIsbUJBQVcsR0FGZTtBQUcxQixtQkFBVyxJQUhlO0FBSTFCLGtCQUFVLElBSmdCO0FBSzFCLG9CQUFZLEtBTGM7QUFNMUIsb0JBQVksTUFOYztBQU8xQixxQkFBYTtBQVBhLEtBQTlCO0FBU0EsTUFBRSxpQkFBRixFQUFxQixRQUFyQixDQUE4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QUFMLENBQW9CLEtBQXBCLEVBQTJCLFdBQTNCLENBQXVDLEtBQUssT0FBTCxDQUFhLFdBQXBEO0FBQ0EsTUFBRSxNQUFNLElBQU4sQ0FBVyxLQUFLLE9BQUwsQ0FBYSxNQUF4QixDQUFGLEVBQW1DLFdBQW5DLENBQStDLEtBQUssT0FBTCxDQUFhLFdBQWIsR0FBMkIsR0FBM0IsR0FBaUMsS0FBSyxPQUFMLENBQWEsY0FBN0Y7QUFDQSxJQUxEOztBQU9BLFFBQUssT0FBTCxDQUFhLFVBQWIsQ0FBd0IsUUFBeEI7QUFDQTtBQWxKaUIsRUFBbkI7O0FBcUpBLEdBQUUsRUFBRixDQUFLLE1BQUwsR0FBYyxVQUFTLE9BQVQsRUFBa0I7QUFDL0IsWUFBVSxFQUFFLE1BQUYsQ0FBUztBQUNsQixnQkFBYSxRQURLO0FBRWxCLGdCQUFhLEtBRks7QUFHbEIsZUFBWSxLQUhNO0FBSWxCLGNBQVcsS0FKTztBQUtsQixlQUFZLElBTE07QUFNbEIsY0FBVyxHQU5PO0FBT2xCLGFBQVUsR0FQUTtBQVFsQixXQUFRLE1BUlU7QUFTbEIsVUFBTyxPQVRXO0FBVWxCLG1CQUFnQjtBQVZFLEdBQVQsRUFXUCxPQVhPLENBQVY7QUFZQSxVQUFRLFVBQVIsR0FBcUIsUUFBUSxVQUFSLElBQXNCLEVBQUUsT0FBRixDQUFVLE9BQXJEOztBQUVBLFNBQU8sS0FBSyxJQUFMLENBQVUsWUFBVztBQUMzQixPQUFJLFVBQVUsRUFBRSxJQUFGLENBQWQ7O0FBRUEsT0FBSSxDQUFDLFFBQVEsSUFBUixDQUFhLFFBQWIsQ0FBTCxFQUE2QjtBQUM1QixZQUFRLElBQVIsQ0FBYSxRQUFiLEVBQXVCLElBQUksTUFBSixDQUFXLE9BQVgsRUFBb0IsT0FBcEIsQ0FBdkI7QUFDQTtBQUNELEdBTk0sQ0FBUDtBQU9BLEVBdEJEO0FBdUJBLENBdkxDLEVBdUxBLE1BdkxBLEVBdUxRLE9BQU8sTUFBUCxDQXZMUixDQUFEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCAnLi9tb2R1bGVzL25hdic7XHJcbmltcG9ydCAnLi9tb2R1bGVzL3RhYnMnO1xyXG5pbXBvcnQgJy4vbW9kdWxlcy9vcGVuQ2xvc2UnO1xyXG5cclxuXHJcblxyXG5cclxualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7XHJcblxyXG4gIFxyXG4gICAgICAkKCdib2R5Jykub24oJ2NsaWNrJywgJy5zY3JvbGwtbGluaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBvZmZzZXQgPSAkKCcuYm9keS1ob2xkZXInKS5wb3NpdGlvbigpLnRvcDtcclxuICAgICAgICAkKFwiLm1vZGFsXCIpLmFuaW1hdGUoeyBzY3JvbGxUb3A6IG9mZnNldCB9LCAnc2xvdycpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIi5mYW5jeWJveC1tZWRpYVwiKS5mYW5jeWJveCh7XHJcbiAgICAgICAgb3BlbkVmZmVjdDogJ25vbmUnLFxyXG4gICAgICAgIGNsb3NlRWZmZWN0OiAnbm9uZScsXHJcbiAgICAgICAgaGVscGVyczoge1xyXG4gICAgICAgICAgICBtZWRpYToge31cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgICQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpID4gMTAyNCkge1xyXG4gICAgICAgICAgICBza3JvbGxyLmluaXQoeyBmb3JjZUhlaWdodDogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgICQoJy5zY3JvbGwtYmxvY2snKS5qU2Nyb2xsUGFuZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgJChcIi5lY29ub21lcy1wb3B1cFwiKS5mYW5jeWJveCh7XHJcbiAgICAgICAgbWF4V2lkdGg6IDUwMCxcclxuICAgICAgICBtYXhIZWlnaHQ6IDQwMCxcclxuICAgICAgICBmaXRUb1ZpZXc6IHRydWUsXHJcbiAgICAgICAgYXV0b1NpemU6IHRydWUsXHJcbiAgICAgICAgY2xvc2VDbGljazogZmFsc2UsXHJcbiAgICAgICAgb3BlbkVmZmVjdDogJ25vbmUnLFxyXG4gICAgICAgIGNsb3NlRWZmZWN0OiAnbm9uZSdcclxuICAgIH0pO1xyXG4gICAgJChcIi5mYW5jeWJveC1tZWRpYVwiKS5mYW5jeWJveCh7XHJcbiAgICAgICAgb3BlbkVmZmVjdDogJ25vbmUnLFxyXG4gICAgICAgIGNsb3NlRWZmZWN0OiAnbm9uZScsXHJcbiAgICAgICAgaGVscGVyczoge1xyXG4gICAgICAgICAgICBtZWRpYToge31cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgICQoJy5zY3JvbGwtYmxvY2snKS5qU2Nyb2xsUGFuZSgpO1xyXG4gICAgJCgnLnVuZGVyLW1hc2snKS5qU2Nyb2xsUGFuZSgpO1xyXG59KTtcclxuIiwiLy8gcGFnZSBpbml0XHJcbmpRdWVyeShmdW5jdGlvbigpIHtcclxuICAgIGluaXRNb2JpbGVOYXYoKTtcclxuICAgICQoXCIuZHJvcC1vcGVuZXJcIikuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICQodGhpcykucGFyZW50KCkuZmluZChcIi5kcm9wZG93blwiKS50b2dnbGVDbGFzcyhcIm9wZW5lZFwiKTtcclxuICAgIH0pO1xyXG4gICAgJChcImJvZHlcIikuY2xpY2soZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmICgkKGUudGFyZ2V0KS5jbG9zZXN0KFwiLmhvbGRlcjJcIikubGVuZ3RoID09IDApXHJcbiAgICAgICAgICAgICQoXCIuZHJvcGRvd25cIikucmVtb3ZlQ2xhc3MoXCJvcGVuZWRcIik7XHJcbiAgICAgICAgaWYgKCQoZS50YXJnZXQpLmNsb3Nlc3QoXCIuc2hhcmUtb3BlbmVkXCIpLmxlbmd0aCA9PSAwKVxyXG4gICAgICAgICAgICAkKFwiLnNoYXJlLWhvbGRlclwiKS5yZW1vdmVDbGFzcyhcInNoYXJlLW9wZW5lZFwiKTtcclxuICAgIH0pO1xyXG4gICAgJChcIi5zaGFyZS1ob2xkZXJcIikuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoXCJzaGFyZS1vcGVuZWRcIik7XHJcbiAgICB9KTtcclxuXHJcbn0pO1xyXG5cclxuLy8gbW9iaWxlIG1lbnUgaW5pdFxyXG5mdW5jdGlvbiBpbml0TW9iaWxlTmF2KCkge1xyXG4gICAgalF1ZXJ5KCdib2R5JykubW9iaWxlTmF2KHtcclxuICAgICAgICBoaWRlT25DbGlja091dHNpZGU6IHRydWUsXHJcbiAgICAgICAgbWVudUFjdGl2ZUNsYXNzOiAnbmF2LWFjdGl2ZScsXHJcbiAgICAgICAgbWVudU9wZW5lcjogJy5tZW51LW9wZW5lcicsXHJcbiAgICAgICAgbWVudURyb3A6ICcubmF2LWhvbGRlcidcclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuXHJcbi8qXHJcbiAqIFNpbXBsZSBNb2JpbGUgTmF2aWdhdGlvblxyXG4gKi9cclxuO1xyXG4oZnVuY3Rpb24oJCkge1xyXG4gICAgZnVuY3Rpb24gTW9iaWxlTmF2KG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lcjogbnVsbCxcclxuICAgICAgICAgICAgaGlkZU9uQ2xpY2tPdXRzaWRlOiBmYWxzZSxcclxuICAgICAgICAgICAgbWVudUFjdGl2ZUNsYXNzOiAnbmF2LWFjdGl2ZScsXHJcbiAgICAgICAgICAgIG1lbnVPcGVuZXI6ICcubmF2LW9wZW5lcicsXHJcbiAgICAgICAgICAgIG1lbnVEcm9wOiAnLm5hdi1kcm9wJyxcclxuICAgICAgICAgICAgdG9nZ2xlRXZlbnQ6ICdjbGljaycsXHJcbiAgICAgICAgICAgIG91dHNpZGVDbGlja0V2ZW50OiAnY2xpY2sgdG91Y2hzdGFydCBwb2ludGVyZG93biBNU1BvaW50ZXJEb3duJ1xyXG4gICAgICAgIH0sIG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuaW5pdFN0cnVjdHVyZSgpO1xyXG4gICAgICAgIHRoaXMuYXR0YWNoRXZlbnRzKCk7XHJcbiAgICB9XHJcbiAgICBNb2JpbGVOYXYucHJvdG90eXBlID0ge1xyXG4gICAgICAgIGluaXRTdHJ1Y3R1cmU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhZ2UgPSAkKCdodG1sJyk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gJCh0aGlzLm9wdGlvbnMuY29udGFpbmVyKTtcclxuICAgICAgICAgICAgdGhpcy5vcGVuZXIgPSB0aGlzLmNvbnRhaW5lci5maW5kKHRoaXMub3B0aW9ucy5tZW51T3BlbmVyKTtcclxuICAgICAgICAgICAgdGhpcy5kcm9wID0gdGhpcy5jb250YWluZXIuZmluZCh0aGlzLm9wdGlvbnMubWVudURyb3ApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYXR0YWNoRXZlbnRzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgaWYgKGFjdGl2YXRlUmVzaXplSGFuZGxlcikge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZhdGVSZXNpemVIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmF0ZVJlc2l6ZUhhbmRsZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLm91dHNpZGVDbGlja0hhbmRsZXIgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5pc09wZW5lZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9ICQoZS50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0LmNsb3Nlc3Qoc2VsZi5vcGVuZXIpLmxlbmd0aCAmJiAhdGFyZ2V0LmNsb3Nlc3Qoc2VsZi5kcm9wKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vcGVuZXJDbGlja0hhbmRsZXIgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRvZ2dsZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vcGVuZXIub24odGhpcy5vcHRpb25zLnRvZ2dsZUV2ZW50LCB0aGlzLm9wZW5lckNsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBpc09wZW5lZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5oYXNDbGFzcyh0aGlzLm9wdGlvbnMubWVudUFjdGl2ZUNsYXNzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNob3c6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRDbGFzcyh0aGlzLm9wdGlvbnMubWVudUFjdGl2ZUNsYXNzKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5oaWRlT25DbGlja091dHNpZGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFnZS5vbih0aGlzLm9wdGlvbnMub3V0c2lkZUNsaWNrRXZlbnQsIHRoaXMub3V0c2lkZUNsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGhpZGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMubWVudUFjdGl2ZUNsYXNzKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5oaWRlT25DbGlja091dHNpZGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFnZS5vZmYodGhpcy5vcHRpb25zLm91dHNpZGVDbGlja0V2ZW50LCB0aGlzLm91dHNpZGVDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc09wZW5lZCgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLm1lbnVBY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgICAgIHRoaXMub3BlbmVyLm9mZih0aGlzLm9wdGlvbnMudG9nZ2xlRXZlbnQsIHRoaXMuY2xpY2tIYW5kbGVyKTtcclxuICAgICAgICAgICAgdGhpcy5wYWdlLm9mZih0aGlzLm9wdGlvbnMub3V0c2lkZUNsaWNrRXZlbnQsIHRoaXMub3V0c2lkZUNsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgYWN0aXZhdGVSZXNpemVIYW5kbGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHdpbiA9ICQod2luZG93KSxcclxuICAgICAgICAgICAgZG9jID0gJCgnaHRtbCcpLFxyXG4gICAgICAgICAgICByZXNpemVDbGFzcyA9ICdyZXNpemUtYWN0aXZlJyxcclxuICAgICAgICAgICAgZmxhZywgdGltZXI7XHJcbiAgICAgICAgdmFyIHJlbW92ZUNsYXNzSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBmbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGRvYy5yZW1vdmVDbGFzcyhyZXNpemVDbGFzcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgcmVzaXplSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoIWZsYWcpIHtcclxuICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZG9jLmFkZENsYXNzKHJlc2l6ZUNsYXNzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xyXG4gICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQocmVtb3ZlQ2xhc3NIYW5kbGVyLCA1MDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgd2luLm9uKCdyZXNpemUgb3JpZW50YXRpb25jaGFuZ2UnLCByZXNpemVIYW5kbGVyKTtcclxuICAgIH07XHJcblxyXG4gICAgJC5mbi5tb2JpbGVOYXYgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHBhcmFtcyA9ICQuZXh0ZW5kKHt9LCBvcHRpb25zLCB7IGNvbnRhaW5lcjogdGhpcyB9KSxcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlID0gbmV3IE1vYmlsZU5hdihwYXJhbXMpO1xyXG4gICAgICAgICAgICAkLmRhdGEodGhpcywgJ01vYmlsZU5hdicsIGluc3RhbmNlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbn0oalF1ZXJ5KSk7XHJcbiIsIi8vIHBhZ2UgaW5pdFxyXG5qUXVlcnkoZnVuY3Rpb24oKXtcclxuXHRpbml0T3BlbkNsb3NlKCk7XHJcbn0pO1xyXG5cclxuLy8gb3Blbi1jbG9zZSBpbml0XHJcbmZ1bmN0aW9uIGluaXRPcGVuQ2xvc2UoKSB7XHJcblx0alF1ZXJ5KCdkaXYub3Blbi1ib3gtdGV4dCcpLm9wZW5DbG9zZSh7XHJcblx0XHRoaWRlT25DbGlja091dHNpZGU6IHRydWUsXHJcblx0XHRhY3RpdmVDbGFzczogJ2FjdGl2ZScsXHJcblx0XHRvcGVuZXI6ICcub3Blbi10ZXh0LWJ0bicsXHJcblx0XHRzbGlkZXI6ICcuaG9sZGVyLXRleHQnLFxyXG5cdFx0YW5pbVNwZWVkOiA0MDAsXHJcblx0XHRlZmZlY3Q6ICdzbGlkZSdcclxuXHR9KTtcclxufVxyXG5cclxuLypcclxuICogalF1ZXJ5IE9wZW4vQ2xvc2UgcGx1Z2luXHJcbiAqL1xyXG47KGZ1bmN0aW9uKCQpIHtcclxuXHRmdW5jdGlvbiBPcGVuQ2xvc2Uob3B0aW9ucykge1xyXG5cdFx0dGhpcy5vcHRpb25zID0gJC5leHRlbmQoe1xyXG5cdFx0XHRhZGRDbGFzc0JlZm9yZUFuaW1hdGlvbjogdHJ1ZSxcclxuXHRcdFx0aGlkZU9uQ2xpY2tPdXRzaWRlOiBmYWxzZSxcclxuXHRcdFx0YWN0aXZlQ2xhc3M6J2FjdGl2ZScsXHJcblx0XHRcdG9wZW5lcjonLm9wZW5lcicsXHJcblx0XHRcdHNsaWRlcjonLnNsaWRlJyxcclxuXHRcdFx0YW5pbVNwZWVkOiA0MDAsXHJcblx0XHRcdGVmZmVjdDonZmFkZScsXHJcblx0XHRcdGV2ZW50OidjbGljaydcclxuXHRcdH0sIG9wdGlvbnMpO1xyXG5cdFx0dGhpcy5pbml0KCk7XHJcblx0fVxyXG5cdE9wZW5DbG9zZS5wcm90b3R5cGUgPSB7XHJcblx0XHRpbml0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYgKHRoaXMub3B0aW9ucy5ob2xkZXIpIHtcclxuXHRcdFx0XHR0aGlzLmZpbmRFbGVtZW50cygpO1xyXG5cdFx0XHRcdHRoaXMuYXR0YWNoRXZlbnRzKCk7XHJcblx0XHRcdFx0dGhpcy5tYWtlQ2FsbGJhY2soJ29uSW5pdCcsIHRoaXMpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0ZmluZEVsZW1lbnRzOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy5ob2xkZXIgPSAkKHRoaXMub3B0aW9ucy5ob2xkZXIpO1xyXG5cdFx0XHR0aGlzLm9wZW5lciA9IHRoaXMuaG9sZGVyLmZpbmQodGhpcy5vcHRpb25zLm9wZW5lcik7XHJcblx0XHRcdHRoaXMuc2xpZGVyID0gdGhpcy5ob2xkZXIuZmluZCh0aGlzLm9wdGlvbnMuc2xpZGVyKTtcclxuXHRcdH0sXHJcblx0XHRhdHRhY2hFdmVudHM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQvLyBhZGQgaGFuZGxlclxyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdHRoaXMuZXZlbnRIYW5kbGVyID0gZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRpZiAoc2VsZi5zbGlkZXIuaGFzQ2xhc3Moc2xpZGVIaWRkZW5DbGFzcykpIHtcclxuXHRcdFx0XHRcdHNlbGYuc2hvd1NsaWRlKCk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHNlbGYuaGlkZVNsaWRlKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cdFx0XHRzZWxmLm9wZW5lci5iaW5kKHNlbGYub3B0aW9ucy5ldmVudCwgdGhpcy5ldmVudEhhbmRsZXIpO1xyXG5cclxuXHRcdFx0Ly8gaG92ZXIgbW9kZSBoYW5kbGVyXHJcblx0XHRcdGlmIChzZWxmLm9wdGlvbnMuZXZlbnQgPT09ICdvdmVyJykge1xyXG5cdFx0XHRcdHNlbGYub3BlbmVyLmJpbmQoJ21vdXNlZW50ZXInLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdGlmICghc2VsZi5ob2xkZXIuaGFzQ2xhc3Moc2VsZi5vcHRpb25zLmFjdGl2ZUNsYXNzKSl7XHJcblx0XHRcdFx0XHRcdHNlbGYuc2hvd1NsaWRlKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0c2VsZi5ob2xkZXIuYmluZCgnbW91c2VsZWF2ZScsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0c2VsZi5oaWRlU2xpZGUoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gb3V0c2lkZSBjbGljayBoYW5kbGVyXHJcblx0XHRcdHNlbGYub3V0c2lkZUNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0XHRpZiAoc2VsZi5vcHRpb25zLmhpZGVPbkNsaWNrT3V0c2lkZSkge1xyXG5cdFx0XHRcdFx0dmFyIHRhcmdldCA9ICQoZS50YXJnZXQpO1xyXG5cdFx0XHRcdFx0aWYgKCF0YXJnZXQuaXMoc2VsZi5ob2xkZXIpICYmICF0YXJnZXQuY2xvc2VzdChzZWxmLmhvbGRlcikubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdHNlbGYuaGlkZVNsaWRlKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gc2V0IGluaXRpYWwgc3R5bGVzXHJcblx0XHRcdGlmICh0aGlzLmhvbGRlci5oYXNDbGFzcyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpKSB7XHJcblx0XHRcdFx0JChkb2N1bWVudCkuYmluZCgnY2xpY2sgdG91Y2hzdGFydCcsIHNlbGYub3V0c2lkZUNsaWNrSGFuZGxlcik7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5zbGlkZXIuYWRkQ2xhc3Moc2xpZGVIaWRkZW5DbGFzcyk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRzaG93U2xpZGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdGlmIChzZWxmLm9wdGlvbnMuYWRkQ2xhc3NCZWZvcmVBbmltYXRpb24pIHtcclxuXHRcdFx0XHRzZWxmLmhvbGRlci5hZGRDbGFzcyhzZWxmLm9wdGlvbnMuYWN0aXZlQ2xhc3MpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHNlbGYuc2xpZGVyLnJlbW92ZUNsYXNzKHNsaWRlSGlkZGVuQ2xhc3MpO1xyXG5cdFx0XHQkKGRvY3VtZW50KS5iaW5kKCdjbGljayB0b3VjaHN0YXJ0Jywgc2VsZi5vdXRzaWRlQ2xpY2tIYW5kbGVyKTtcclxuXHJcblx0XHRcdHNlbGYubWFrZUNhbGxiYWNrKCdhbmltU3RhcnQnLCB0cnVlKTtcclxuXHRcdFx0dG9nZ2xlRWZmZWN0c1tzZWxmLm9wdGlvbnMuZWZmZWN0XS5zaG93KHtcclxuXHRcdFx0XHRib3g6IHNlbGYuc2xpZGVyLFxyXG5cdFx0XHRcdHNwZWVkOiBzZWxmLm9wdGlvbnMuYW5pbVNwZWVkLFxyXG5cdFx0XHRcdGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdGlmICghc2VsZi5vcHRpb25zLmFkZENsYXNzQmVmb3JlQW5pbWF0aW9uKSB7XHJcblx0XHRcdFx0XHRcdHNlbGYuaG9sZGVyLmFkZENsYXNzKHNlbGYub3B0aW9ucy5hY3RpdmVDbGFzcyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRzZWxmLm1ha2VDYWxsYmFjaygnYW5pbUVuZCcsIHRydWUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9LFxyXG5cdFx0aGlkZVNsaWRlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHRpZiAoc2VsZi5vcHRpb25zLmFkZENsYXNzQmVmb3JlQW5pbWF0aW9uKSB7XHJcblx0XHRcdFx0c2VsZi5ob2xkZXIucmVtb3ZlQ2xhc3Moc2VsZi5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQkKGRvY3VtZW50KS51bmJpbmQoJ2NsaWNrIHRvdWNoc3RhcnQnLCBzZWxmLm91dHNpZGVDbGlja0hhbmRsZXIpO1xyXG5cclxuXHRcdFx0c2VsZi5tYWtlQ2FsbGJhY2soJ2FuaW1TdGFydCcsIGZhbHNlKTtcclxuXHRcdFx0dG9nZ2xlRWZmZWN0c1tzZWxmLm9wdGlvbnMuZWZmZWN0XS5oaWRlKHtcclxuXHRcdFx0XHRib3g6IHNlbGYuc2xpZGVyLFxyXG5cdFx0XHRcdHNwZWVkOiBzZWxmLm9wdGlvbnMuYW5pbVNwZWVkLFxyXG5cdFx0XHRcdGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdGlmICghc2VsZi5vcHRpb25zLmFkZENsYXNzQmVmb3JlQW5pbWF0aW9uKSB7XHJcblx0XHRcdFx0XHRcdHNlbGYuaG9sZGVyLnJlbW92ZUNsYXNzKHNlbGYub3B0aW9ucy5hY3RpdmVDbGFzcyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRzZWxmLnNsaWRlci5hZGRDbGFzcyhzbGlkZUhpZGRlbkNsYXNzKTtcclxuXHRcdFx0XHRcdHNlbGYubWFrZUNhbGxiYWNrKCdhbmltRW5kJywgZmFsc2UpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9LFxyXG5cdFx0ZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMuc2xpZGVyLnJlbW92ZUNsYXNzKHNsaWRlSGlkZGVuQ2xhc3MpLmNzcyh7IGRpc3BsYXk6JycgfSk7XHJcblx0XHRcdHRoaXMub3BlbmVyLnVuYmluZCh0aGlzLm9wdGlvbnMuZXZlbnQsIHRoaXMuZXZlbnRIYW5kbGVyKTtcclxuXHRcdFx0dGhpcy5ob2xkZXIucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKS5yZW1vdmVEYXRhKCdPcGVuQ2xvc2UnKTtcclxuXHRcdFx0JChkb2N1bWVudCkudW5iaW5kKCdjbGljayB0b3VjaHN0YXJ0JywgdGhpcy5vdXRzaWRlQ2xpY2tIYW5kbGVyKTtcclxuXHRcdH0sXHJcblx0XHRtYWtlQ2FsbGJhY2s6IGZ1bmN0aW9uKG5hbWUpIHtcclxuXHRcdFx0aWYgKHR5cGVvZiB0aGlzLm9wdGlvbnNbbmFtZV0gPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHR2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XHJcblx0XHRcdFx0YXJncy5zaGlmdCgpO1xyXG5cdFx0XHRcdHRoaXMub3B0aW9uc1tuYW1lXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8vIGFkZCBzdHlsZXNoZWV0IGZvciBzbGlkZSBvbiBET01SZWFkeVxyXG5cdHZhciBzbGlkZUhpZGRlbkNsYXNzID0gJ2pzLXNsaWRlLWhpZGRlbic7XHJcblx0KGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIHRhYlN0eWxlU2hlZXQgPSAkKCc8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+JylbMF07XHJcblx0XHR2YXIgdGFiU3R5bGVSdWxlID0gJy4nICsgc2xpZGVIaWRkZW5DbGFzcztcclxuXHRcdHRhYlN0eWxlUnVsZSArPSAne3Bvc2l0aW9uOmFic29sdXRlICFpbXBvcnRhbnQ7bGVmdDotOTk5OXB4ICFpbXBvcnRhbnQ7dG9wOi05OTk5cHggIWltcG9ydGFudDtkaXNwbGF5OmJsb2NrICFpbXBvcnRhbnR9JztcclxuXHRcdGlmICh0YWJTdHlsZVNoZWV0LnN0eWxlU2hlZXQpIHtcclxuXHRcdFx0dGFiU3R5bGVTaGVldC5zdHlsZVNoZWV0LmNzc1RleHQgPSB0YWJTdHlsZVJ1bGU7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0YWJTdHlsZVNoZWV0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRhYlN0eWxlUnVsZSkpO1xyXG5cdFx0fVxyXG5cdFx0JCgnaGVhZCcpLmFwcGVuZCh0YWJTdHlsZVNoZWV0KTtcclxuXHR9KCkpO1xyXG5cclxuXHQvLyBhbmltYXRpb24gZWZmZWN0c1xyXG5cdHZhciB0b2dnbGVFZmZlY3RzID0ge1xyXG5cdFx0c2xpZGU6IHtcclxuXHRcdFx0c2hvdzogZnVuY3Rpb24obykge1xyXG5cdFx0XHRcdG8uYm94LnN0b3AodHJ1ZSkuaGlkZSgpLnNsaWRlRG93bihvLnNwZWVkLCBvLmNvbXBsZXRlKTtcclxuXHRcdFx0fSxcclxuXHRcdFx0aGlkZTogZnVuY3Rpb24obykge1xyXG5cdFx0XHRcdG8uYm94LnN0b3AodHJ1ZSkuc2xpZGVVcChvLnNwZWVkLCBvLmNvbXBsZXRlKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdGZhZGU6IHtcclxuXHRcdFx0c2hvdzogZnVuY3Rpb24obykge1xyXG5cdFx0XHRcdG8uYm94LnN0b3AodHJ1ZSkuaGlkZSgpLmZhZGVJbihvLnNwZWVkLCBvLmNvbXBsZXRlKTtcclxuXHRcdFx0fSxcclxuXHRcdFx0aGlkZTogZnVuY3Rpb24obykge1xyXG5cdFx0XHRcdG8uYm94LnN0b3AodHJ1ZSkuZmFkZU91dChvLnNwZWVkLCBvLmNvbXBsZXRlKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdG5vbmU6IHtcclxuXHRcdFx0c2hvdzogZnVuY3Rpb24obykge1xyXG5cdFx0XHRcdG8uYm94LmhpZGUoKS5zaG93KDAsIG8uY29tcGxldGUpO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRoaWRlOiBmdW5jdGlvbihvKSB7XHJcblx0XHRcdFx0by5ib3guaGlkZSgwLCBvLmNvbXBsZXRlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8vIGpRdWVyeSBwbHVnaW4gaW50ZXJmYWNlXHJcblx0JC5mbi5vcGVuQ2xvc2UgPSBmdW5jdGlvbihvcHQpIHtcclxuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdGpRdWVyeSh0aGlzKS5kYXRhKCdPcGVuQ2xvc2UnLCBuZXcgT3BlbkNsb3NlKCQuZXh0ZW5kKG9wdCwgeyBob2xkZXI6IHRoaXMgfSkpKTtcclxuXHRcdH0pO1xyXG5cdH07XHJcbn0oalF1ZXJ5KSk7XHJcbiIsIi8vIHBhZ2UgaW5pdFxyXG5qUXVlcnkoZnVuY3Rpb24oKXtcclxuXHRpbml0VGFicygpO1xyXG59KTtcclxuXHJcbi8vIGNvbnRlbnQgdGFicyBpbml0XHJcbmZ1bmN0aW9uIGluaXRUYWJzKCkge1xyXG5cdGpRdWVyeSgndWwudGFic2V0JykudGFic2V0KHtcclxuXHRcdHRhYkxpbmtzOiAnYScsXHJcblx0XHRkZWZhdWx0VGFiOiBmYWxzZVxyXG5cdH0pO1xyXG59XHJcblxyXG4vKlxyXG4gKiBqUXVlcnkgVGFicyBwbHVnaW5cclxuICovXHJcblxyXG47KGZ1bmN0aW9uKCQsICR3aW4pIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGZ1bmN0aW9uIFRhYnNldCgkaG9sZGVyLCBvcHRpb25zKSB7XHJcblx0XHR0aGlzLiRob2xkZXIgPSAkaG9sZGVyO1xyXG5cdFx0dGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuXHJcblx0XHR0aGlzLmluaXQoKTtcclxuXHRcdHRoaXMubWFrZUNhbGxiYWNrKCdvbkluaXQnLCB0aGlzKTtcclxuXHR9XHJcblxyXG5cdFRhYnNldC5wcm90b3R5cGUgPSB7XHJcblx0XHRpbml0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy4kdGFiTGlua3MgPSB0aGlzLiRob2xkZXIuZmluZCh0aGlzLm9wdGlvbnMudGFiTGlua3MpO1xyXG5cclxuXHRcdFx0dGhpcy5zZXRTdGFydEFjdGl2ZUluZGV4KCk7XHJcblx0XHRcdHRoaXMuc2V0QWN0aXZlVGFiKCk7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5vcHRpb25zLmF1dG9IZWlnaHQpIHtcclxuXHRcdFx0XHR0aGlzLiR0YWJIb2xkZXIgPSAkKHRoaXMuJHRhYkxpbmtzLmVxKDApLmF0dHIodGhpcy5vcHRpb25zLmF0dHJpYikpLnBhcmVudCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdHNldFN0YXJ0QWN0aXZlSW5kZXg6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgJGNsYXNzVGFyZ2V0cyA9IHRoaXMuZ2V0Q2xhc3NUYXJnZXQodGhpcy4kdGFiTGlua3MpO1xyXG5cdFx0XHR2YXIgJGFjdGl2ZUxpbmsgPSAkY2xhc3NUYXJnZXRzLmZpbHRlcignLicgKyB0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpO1xyXG5cdFx0XHR2YXIgJGhhc2hMaW5rID0gdGhpcy4kdGFiTGlua3MuZmlsdGVyKCdbJyArIHRoaXMub3B0aW9ucy5hdHRyaWIgKyAnPVwiJyArIGxvY2F0aW9uLmhhc2ggKyAnXCJdJyk7XHJcblx0XHRcdHZhciBhY3RpdmVJbmRleDtcclxuXHJcblx0XHRcdGlmICh0aGlzLm9wdGlvbnMuY2hlY2tIYXNoICYmICRoYXNoTGluay5sZW5ndGgpIHtcclxuXHRcdFx0XHQkYWN0aXZlTGluayA9ICRoYXNoTGluaztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0YWN0aXZlSW5kZXggPSAkY2xhc3NUYXJnZXRzLmluZGV4KCRhY3RpdmVMaW5rKTtcclxuXHJcblx0XHRcdHRoaXMuYWN0aXZlVGFiSW5kZXggPSB0aGlzLnByZXZUYWJJbmRleCA9IChhY3RpdmVJbmRleCA9PT0gLTEgPyAodGhpcy5vcHRpb25zLmRlZmF1bHRUYWIgPyAwIDogbnVsbCkgOiBhY3RpdmVJbmRleCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdHNldEFjdGl2ZVRhYjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRcdHRoaXMuJHRhYkxpbmtzLmVhY2goZnVuY3Rpb24oaSwgbGluaykge1xyXG5cdFx0XHRcdHZhciAkbGluayA9ICQobGluayk7XHJcblx0XHRcdFx0dmFyICRjbGFzc1RhcmdldCA9IHNlbGYuZ2V0Q2xhc3NUYXJnZXQoJGxpbmspO1xyXG5cdFx0XHRcdHZhciAkdGFiID0gJCgkbGluay5hdHRyKHNlbGYub3B0aW9ucy5hdHRyaWIpKTtcclxuXHJcblx0XHRcdFx0aWYgKGkgIT09IHNlbGYuYWN0aXZlVGFiSW5kZXgpIHtcclxuXHRcdFx0XHRcdCRjbGFzc1RhcmdldC5yZW1vdmVDbGFzcyhzZWxmLm9wdGlvbnMuYWN0aXZlQ2xhc3MpO1xyXG5cdFx0XHRcdFx0JHRhYi5hZGRDbGFzcyhzZWxmLm9wdGlvbnMudGFiSGlkZGVuQ2xhc3MpLnJlbW92ZUNsYXNzKHNlbGYub3B0aW9ucy5hY3RpdmVDbGFzcyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdCRjbGFzc1RhcmdldC5hZGRDbGFzcyhzZWxmLm9wdGlvbnMuYWN0aXZlQ2xhc3MpO1xyXG5cdFx0XHRcdFx0JHRhYi5yZW1vdmVDbGFzcyhzZWxmLm9wdGlvbnMudGFiSGlkZGVuQ2xhc3MpLmFkZENsYXNzKHNlbGYub3B0aW9ucy5hY3RpdmVDbGFzcyk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRzZWxmLmF0dGFjaFRhYkxpbmsoJGxpbmssIGkpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0sXHJcblxyXG5cdFx0YXR0YWNoVGFiTGluazogZnVuY3Rpb24oJGxpbmssIGkpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdFx0JGxpbmsub24odGhpcy5vcHRpb25zLmV2ZW50ICsgJy50YWJzZXQnLCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0XHRpZiAoc2VsZi5hY3RpdmVUYWJJbmRleCA9PT0gc2VsZi5wcmV2VGFiSW5kZXggJiYgc2VsZi5hY3RpdmVUYWJJbmRleCAhPT0gaSkge1xyXG5cdFx0XHRcdFx0c2VsZi5hY3RpdmVUYWJJbmRleCA9IGk7XHJcblx0XHRcdFx0XHRzZWxmLnN3aXRjaFRhYnMoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHJcblx0XHRyZXNpemVIb2xkZXI6IGZ1bmN0aW9uKGhlaWdodCkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0XHRpZiAoaGVpZ2h0KSB7XHJcblx0XHRcdFx0dGhpcy4kdGFiSG9sZGVyLmhlaWdodChoZWlnaHQpO1xyXG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRzZWxmLiR0YWJIb2xkZXIuYWRkQ2xhc3MoJ3RyYW5zaXRpb24nKTtcclxuXHRcdFx0XHR9LCAxMCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0c2VsZi4kdGFiSG9sZGVyLnJlbW92ZUNsYXNzKCd0cmFuc2l0aW9uJykuaGVpZ2h0KCcnKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHRzd2l0Y2hUYWJzOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdFx0dmFyICRwcmV2TGluayA9IHRoaXMuJHRhYkxpbmtzLmVxKHRoaXMucHJldlRhYkluZGV4KTtcclxuXHRcdFx0dmFyICRuZXh0TGluayA9IHRoaXMuJHRhYkxpbmtzLmVxKHRoaXMuYWN0aXZlVGFiSW5kZXgpO1xyXG5cclxuXHRcdFx0dmFyICRwcmV2VGFiID0gdGhpcy5nZXRUYWIoJHByZXZMaW5rKTtcclxuXHRcdFx0dmFyICRuZXh0VGFiID0gdGhpcy5nZXRUYWIoJG5leHRMaW5rKTtcclxuXHJcblx0XHRcdCRwcmV2VGFiLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyk7XHJcblxyXG5cdFx0XHRpZiAoc2VsZi5oYXZlVGFiSG9sZGVyKCkpIHtcclxuXHRcdFx0XHR0aGlzLnJlc2l6ZUhvbGRlcigkcHJldlRhYi5vdXRlckhlaWdodCgpKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRzZWxmLmdldENsYXNzVGFyZ2V0KCRwcmV2TGluaykucmVtb3ZlQ2xhc3Moc2VsZi5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcclxuXHJcblx0XHRcdFx0JHByZXZUYWIuYWRkQ2xhc3Moc2VsZi5vcHRpb25zLnRhYkhpZGRlbkNsYXNzKTtcclxuXHRcdFx0XHQkbmV4dFRhYi5yZW1vdmVDbGFzcyhzZWxmLm9wdGlvbnMudGFiSGlkZGVuQ2xhc3MpLmFkZENsYXNzKHNlbGYub3B0aW9ucy5hY3RpdmVDbGFzcyk7XHJcblxyXG5cdFx0XHRcdHNlbGYuZ2V0Q2xhc3NUYXJnZXQoJG5leHRMaW5rKS5hZGRDbGFzcyhzZWxmLm9wdGlvbnMuYWN0aXZlQ2xhc3MpO1xyXG5cclxuXHRcdFx0XHRpZiAoc2VsZi5oYXZlVGFiSG9sZGVyKCkpIHtcclxuXHRcdFx0XHRcdHNlbGYucmVzaXplSG9sZGVyKCRuZXh0VGFiLm91dGVySGVpZ2h0KCkpO1xyXG5cclxuXHRcdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdHNlbGYucmVzaXplSG9sZGVyKCk7XHJcblx0XHRcdFx0XHRcdHNlbGYucHJldlRhYkluZGV4ID0gc2VsZi5hY3RpdmVUYWJJbmRleDtcclxuXHRcdFx0XHRcdH0sIHNlbGYub3B0aW9ucy5hbmltU3BlZWQpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRzZWxmLnByZXZUYWJJbmRleCA9IHNlbGYuYWN0aXZlVGFiSW5kZXg7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIG9uY2hhbmdlIGNhbGxiYWNrXHJcblx0XHRcdFx0c2VsZi5tYWtlQ2FsbGJhY2soJ29uQ2hhbmdlJywgc2VsZiwgJG5leHRMaW5rKTtcclxuXHRcdFx0fSwgdGhpcy5vcHRpb25zLmF1dG9IZWlnaHQgPyB0aGlzLm9wdGlvbnMuYW5pbVNwZWVkIDogMSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdGdldENsYXNzVGFyZ2V0OiBmdW5jdGlvbigkbGluaykge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLmFkZFRvUGFyZW50ID8gJGxpbmsucGFyZW50KCkgOiAkbGluaztcclxuXHRcdH0sXHJcblxyXG5cdFx0Z2V0QWN0aXZlVGFiOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0VGFiKHRoaXMuJHRhYkxpbmtzLmVxKHRoaXMuYWN0aXZlVGFiSW5kZXgpKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0Z2V0VGFiOiBmdW5jdGlvbigkbGluaykge1xyXG5cdFx0XHRyZXR1cm4gJCgkbGluay5hdHRyKHRoaXMub3B0aW9ucy5hdHRyaWIpKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0aGF2ZVRhYkhvbGRlcjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLiR0YWJIb2xkZXIgJiYgdGhpcy4kdGFiSG9sZGVyLmxlbmd0aDtcclxuXHRcdH0sXHJcblxyXG5cdFx0bWFrZUNhbGxiYWNrOiBmdW5jdGlvbihuYW1lKSB7XHJcblx0XHRcdGlmKHR5cGVvZiB0aGlzLm9wdGlvbnNbbmFtZV0gPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHR2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XHJcblx0XHRcdFx0YXJncy5zaGlmdCgpO1xyXG5cdFx0XHRcdHRoaXMub3B0aW9uc1tuYW1lXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHRkZXN0cm95OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdFx0dGhpcy4kdGFiTGlua3Mub2ZmKCcudGFic2V0JykuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR2YXIgJGxpbmsgPSAkKHRoaXMpO1xyXG5cclxuXHRcdFx0XHRzZWxmLmdldENsYXNzVGFyZ2V0KCRsaW5rKS5yZW1vdmVDbGFzcyhzZWxmLm9wdGlvbnMuYWN0aXZlQ2xhc3MpO1xyXG5cdFx0XHRcdCQoJGxpbmsuYXR0cihzZWxmLm9wdGlvbnMuYXR0cmliKSkucmVtb3ZlQ2xhc3Moc2VsZi5vcHRpb25zLmFjdGl2ZUNsYXNzICsgJyAnICsgc2VsZi5vcHRpb25zLnRhYkhpZGRlbkNsYXNzKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHR0aGlzLiRob2xkZXIucmVtb3ZlRGF0YSgnVGFic2V0Jyk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0JC5mbi50YWJzZXQgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcblx0XHRvcHRpb25zID0gJC5leHRlbmQoe1xyXG5cdFx0XHRhY3RpdmVDbGFzczogJ2FjdGl2ZScsXHJcblx0XHRcdGFkZFRvUGFyZW50OiBmYWxzZSxcclxuXHRcdFx0YXV0b0hlaWdodDogZmFsc2UsXHJcblx0XHRcdGNoZWNrSGFzaDogZmFsc2UsXHJcblx0XHRcdGRlZmF1bHRUYWI6IHRydWUsXHJcblx0XHRcdGFuaW1TcGVlZDogNTAwLFxyXG5cdFx0XHR0YWJMaW5rczogJ2EnLFxyXG5cdFx0XHRhdHRyaWI6ICdocmVmJyxcclxuXHRcdFx0ZXZlbnQ6ICdjbGljaycsXHJcblx0XHRcdHRhYkhpZGRlbkNsYXNzOiAnanMtdGFiLWhpZGRlbidcclxuXHRcdH0sIG9wdGlvbnMpO1xyXG5cdFx0b3B0aW9ucy5hdXRvSGVpZ2h0ID0gb3B0aW9ucy5hdXRvSGVpZ2h0ICYmICQuc3VwcG9ydC5vcGFjaXR5O1xyXG5cclxuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciAkaG9sZGVyID0gJCh0aGlzKTtcclxuXHJcblx0XHRcdGlmICghJGhvbGRlci5kYXRhKCdUYWJzZXQnKSkge1xyXG5cdFx0XHRcdCRob2xkZXIuZGF0YSgnVGFic2V0JywgbmV3IFRhYnNldCgkaG9sZGVyLCBvcHRpb25zKSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH07XHJcbn0oalF1ZXJ5LCBqUXVlcnkod2luZG93KSkpOyJdfQ==
