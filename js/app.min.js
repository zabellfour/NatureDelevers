(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

require('./modules/nav');

require('./modules/tabs');

require('./modules/openClose');

jQuery(document).ready(function ($) {
    smoothScroll.init({
        selector: '[data-scroll]',
        speed: 1000 });
    $(".fancybox-media").fancybox({
        openEffect: 'none',
        closeEffect: 'none',
        helpers: {
            media: {}
        }
    });
    $(".economes-popup").fancybox({
        maxWidth: 500,
        maxHeight: 400,
        fitToView: true,
        autoSize: true,
        closeClick: false,
        openEffect: 'none',
        closeEffect: 'none'
    });
    $(function () {
        if ($(window).width() > 1024) {
            skrollr.init({ forceHeight: false });
            $('.scroll-block').jScrollPane();
        }
    });
});

},{"./modules/nav":2,"./modules/openClose":3,"./modules/tabs":4}],2:[function(require,module,exports){
"use strict";

// page init
jQuery(function () {
    initMobileNav();
    $(".drop-opener").click(function (event) {
        event.preventDefault();
        $(this).parent().find(".dropdown").toggleClass("opened");
    });
    $("body").click(function (e) {
        if ($(e.target).closest(".holder2").length == 0) $(".dropdown").removeClass("opened");
        if ($(e.target).closest(".share-opened").length == 0) $(".share-holder").removeClass("share-opened");
    });
    $(".share-holder").click(function (event) {
        event.preventDefault();
        $(this).toggleClass("share-opened");
    });
});

// mobile menu init
function initMobileNav() {
    jQuery('body').mobileNav({
        hideOnClickOutside: true,
        menuActiveClass: 'nav-active',
        menuOpener: '.menu-opener',
        menuDrop: '.nav-holder'
    });
}

/*
 * Simple Mobile Navigation
 */
;
(function ($) {
    function MobileNav(options) {
        this.options = $.extend({
            container: null,
            hideOnClickOutside: false,
            menuActiveClass: 'nav-active',
            menuOpener: '.nav-opener',
            menuDrop: '.nav-drop',
            toggleEvent: 'click',
            outsideClickEvent: 'click touchstart pointerdown MSPointerDown'
        }, options);
        this.initStructure();
        this.attachEvents();
    }
    MobileNav.prototype = {
        initStructure: function initStructure() {
            this.page = $('html');
            this.container = $(this.options.container);
            this.opener = this.container.find(this.options.menuOpener);
            this.drop = this.container.find(this.options.menuDrop);
        },
        attachEvents: function attachEvents() {
            var self = this;

            if (activateResizeHandler) {
                activateResizeHandler();
                activateResizeHandler = null;
            }

            this.outsideClickHandler = function (e) {
                if (self.isOpened()) {
                    var target = $(e.target);
                    if (!target.closest(self.opener).length && !target.closest(self.drop).length) {
                        self.hide();
                    }
                }
            };

            this.openerClickHandler = function (e) {
                e.preventDefault();
                self.toggle();
            };

            this.opener.on(this.options.toggleEvent, this.openerClickHandler);
        },
        isOpened: function isOpened() {
            return this.container.hasClass(this.options.menuActiveClass);
        },
        show: function show() {
            this.container.addClass(this.options.menuActiveClass);
            if (this.options.hideOnClickOutside) {
                this.page.on(this.options.outsideClickEvent, this.outsideClickHandler);
            }
        },
        hide: function hide() {
            this.container.removeClass(this.options.menuActiveClass);
            if (this.options.hideOnClickOutside) {
                this.page.off(this.options.outsideClickEvent, this.outsideClickHandler);
            }
        },
        toggle: function toggle() {
            if (this.isOpened()) {
                this.hide();
            } else {
                this.show();
            }
        },
        destroy: function destroy() {
            this.container.removeClass(this.options.menuActiveClass);
            this.opener.off(this.options.toggleEvent, this.clickHandler);
            this.page.off(this.options.outsideClickEvent, this.outsideClickHandler);
        }
    };

    var activateResizeHandler = function activateResizeHandler() {
        var win = $(window),
            doc = $('html'),
            resizeClass = 'resize-active',
            flag,
            timer;
        var removeClassHandler = function removeClassHandler() {
            flag = false;
            doc.removeClass(resizeClass);
        };
        var resizeHandler = function resizeHandler() {
            if (!flag) {
                flag = true;
                doc.addClass(resizeClass);
            }
            clearTimeout(timer);
            timer = setTimeout(removeClassHandler, 500);
        };
        win.on('resize orientationchange', resizeHandler);
    };

    $.fn.mobileNav = function (options) {
        return this.each(function () {
            var params = $.extend({}, options, { container: this }),
                instance = new MobileNav(params);
            $.data(this, 'MobileNav', instance);
        });
    };
})(jQuery);

},{}],3:[function(require,module,exports){
'use strict';

// page init
jQuery(function () {
	initOpenClose();
});

// open-close init
function initOpenClose() {
	jQuery('div.open-box-text').openClose({
		activeClass: 'active',
		opener: '.open-text-btn',
		slider: '.holder-text',
		animSpeed: 400,
		effect: 'slide'
	});
}

/*
 * jQuery Open/Close plugin
 */
;(function ($) {
	function OpenClose(options) {
		this.options = $.extend({
			addClassBeforeAnimation: true,
			hideOnClickOutside: false,
			activeClass: 'active',
			opener: '.opener',
			slider: '.slide',
			animSpeed: 400,
			effect: 'fade',
			event: 'click'
		}, options);
		this.init();
	}
	OpenClose.prototype = {
		init: function init() {
			if (this.options.holder) {
				this.findElements();
				this.attachEvents();
				this.makeCallback('onInit', this);
			}
		},
		findElements: function findElements() {
			this.holder = $(this.options.holder);
			this.opener = this.holder.find(this.options.opener);
			this.slider = this.holder.find(this.options.slider);
		},
		attachEvents: function attachEvents() {
			// add handler
			var self = this;
			this.eventHandler = function (e) {
				e.preventDefault();
				if (self.slider.hasClass(slideHiddenClass)) {
					self.showSlide();
				} else {
					self.hideSlide();
				}
			};
			self.opener.bind(self.options.event, this.eventHandler);

			// hover mode handler
			if (self.options.event === 'over') {
				self.opener.bind('mouseenter', function () {
					if (!self.holder.hasClass(self.options.activeClass)) {
						self.showSlide();
					}
				});
				self.holder.bind('mouseleave', function () {
					self.hideSlide();
				});
			}

			// outside click handler
			self.outsideClickHandler = function (e) {
				if (self.options.hideOnClickOutside) {
					var target = $(e.target);
					if (!target.is(self.holder) && !target.closest(self.holder).length) {
						self.hideSlide();
					}
				}
			};

			// set initial styles
			if (this.holder.hasClass(this.options.activeClass)) {
				$(document).bind('click touchstart', self.outsideClickHandler);
			} else {
				this.slider.addClass(slideHiddenClass);
			}
		},
		showSlide: function showSlide() {
			var self = this;
			if (self.options.addClassBeforeAnimation) {
				self.holder.addClass(self.options.activeClass);
			}
			self.slider.removeClass(slideHiddenClass);
			$(document).bind('click touchstart', self.outsideClickHandler);

			self.makeCallback('animStart', true);
			toggleEffects[self.options.effect].show({
				box: self.slider,
				speed: self.options.animSpeed,
				complete: function complete() {
					if (!self.options.addClassBeforeAnimation) {
						self.holder.addClass(self.options.activeClass);
					}
					self.makeCallback('animEnd', true);
				}
			});
		},
		hideSlide: function hideSlide() {
			var self = this;
			if (self.options.addClassBeforeAnimation) {
				self.holder.removeClass(self.options.activeClass);
			}
			$(document).unbind('click touchstart', self.outsideClickHandler);

			self.makeCallback('animStart', false);
			toggleEffects[self.options.effect].hide({
				box: self.slider,
				speed: self.options.animSpeed,
				complete: function complete() {
					if (!self.options.addClassBeforeAnimation) {
						self.holder.removeClass(self.options.activeClass);
					}
					self.slider.addClass(slideHiddenClass);
					self.makeCallback('animEnd', false);
				}
			});
		},
		destroy: function destroy() {
			this.slider.removeClass(slideHiddenClass).css({ display: '' });
			this.opener.unbind(this.options.event, this.eventHandler);
			this.holder.removeClass(this.options.activeClass).removeData('OpenClose');
			$(document).unbind('click touchstart', this.outsideClickHandler);
		},
		makeCallback: function makeCallback(name) {
			if (typeof this.options[name] === 'function') {
				var args = Array.prototype.slice.call(arguments);
				args.shift();
				this.options[name].apply(this, args);
			}
		}
	};

	// add stylesheet for slide on DOMReady
	var slideHiddenClass = 'js-slide-hidden';
	(function () {
		var tabStyleSheet = $('<style type="text/css">')[0];
		var tabStyleRule = '.' + slideHiddenClass;
		tabStyleRule += '{position:absolute !important;left:-9999px !important;top:-9999px !important;display:block !important}';
		if (tabStyleSheet.styleSheet) {
			tabStyleSheet.styleSheet.cssText = tabStyleRule;
		} else {
			tabStyleSheet.appendChild(document.createTextNode(tabStyleRule));
		}
		$('head').append(tabStyleSheet);
	})();

	// animation effects
	var toggleEffects = {
		slide: {
			show: function show(o) {
				o.box.stop(true).hide().slideDown(o.speed, o.complete);
			},
			hide: function hide(o) {
				o.box.stop(true).slideUp(o.speed, o.complete);
			}
		},
		fade: {
			show: function show(o) {
				o.box.stop(true).hide().fadeIn(o.speed, o.complete);
			},
			hide: function hide(o) {
				o.box.stop(true).fadeOut(o.speed, o.complete);
			}
		},
		none: {
			show: function show(o) {
				o.box.hide().show(0, o.complete);
			},
			hide: function hide(o) {
				o.box.hide(0, o.complete);
			}
		}
	};

	// jQuery plugin interface
	$.fn.openClose = function (opt) {
		return this.each(function () {
			jQuery(this).data('OpenClose', new OpenClose($.extend(opt, { holder: this })));
		});
	};
})(jQuery);

},{}],4:[function(require,module,exports){
'use strict';

// page init
jQuery(function () {
	initTabs();
});

// content tabs init
function initTabs() {
	jQuery('ul.tabset').tabset({
		tabLinks: 'a',
		defaultTab: false
	});
}

/*
 * jQuery Tabs plugin
 */

;(function ($, $win) {
	'use strict';

	function Tabset($holder, options) {
		this.$holder = $holder;
		this.options = options;

		this.init();
		this.makeCallback('onInit', this);
	}

	Tabset.prototype = {
		init: function init() {
			this.$tabLinks = this.$holder.find(this.options.tabLinks);

			this.setStartActiveIndex();
			this.setActiveTab();

			if (this.options.autoHeight) {
				this.$tabHolder = $(this.$tabLinks.eq(0).attr(this.options.attrib)).parent();
			}
		},

		setStartActiveIndex: function setStartActiveIndex() {
			var $classTargets = this.getClassTarget(this.$tabLinks);
			var $activeLink = $classTargets.filter('.' + this.options.activeClass);
			var $hashLink = this.$tabLinks.filter('[' + this.options.attrib + '="' + location.hash + '"]');
			var activeIndex;

			if (this.options.checkHash && $hashLink.length) {
				$activeLink = $hashLink;
			}

			activeIndex = $classTargets.index($activeLink);

			this.activeTabIndex = this.prevTabIndex = activeIndex === -1 ? this.options.defaultTab ? 0 : null : activeIndex;
		},

		setActiveTab: function setActiveTab() {
			var self = this;

			this.$tabLinks.each(function (i, link) {
				var $link = $(link);
				var $classTarget = self.getClassTarget($link);
				var $tab = $($link.attr(self.options.attrib));

				if (i !== self.activeTabIndex) {
					$classTarget.removeClass(self.options.activeClass);
					$tab.addClass(self.options.tabHiddenClass).removeClass(self.options.activeClass);
				} else {
					$classTarget.addClass(self.options.activeClass);
					$tab.removeClass(self.options.tabHiddenClass).addClass(self.options.activeClass);
				}

				self.attachTabLink($link, i);
			});
		},

		attachTabLink: function attachTabLink($link, i) {
			var self = this;

			$link.on(this.options.event + '.tabset', function (e) {
				e.preventDefault();

				if (self.activeTabIndex === self.prevTabIndex && self.activeTabIndex !== i) {
					self.activeTabIndex = i;
					self.switchTabs();
				}
			});
		},

		resizeHolder: function resizeHolder(height) {
			var self = this;

			if (height) {
				this.$tabHolder.height(height);
				setTimeout(function () {
					self.$tabHolder.addClass('transition');
				}, 10);
			} else {
				self.$tabHolder.removeClass('transition').height('');
			}
		},

		switchTabs: function switchTabs() {
			var self = this;

			var $prevLink = this.$tabLinks.eq(this.prevTabIndex);
			var $nextLink = this.$tabLinks.eq(this.activeTabIndex);

			var $prevTab = this.getTab($prevLink);
			var $nextTab = this.getTab($nextLink);

			$prevTab.removeClass(this.options.activeClass);

			if (self.haveTabHolder()) {
				this.resizeHolder($prevTab.outerHeight());
			}

			setTimeout(function () {
				self.getClassTarget($prevLink).removeClass(self.options.activeClass);

				$prevTab.addClass(self.options.tabHiddenClass);
				$nextTab.removeClass(self.options.tabHiddenClass).addClass(self.options.activeClass);

				self.getClassTarget($nextLink).addClass(self.options.activeClass);

				if (self.haveTabHolder()) {
					self.resizeHolder($nextTab.outerHeight());

					setTimeout(function () {
						self.resizeHolder();
						self.prevTabIndex = self.activeTabIndex;
					}, self.options.animSpeed);
				} else {
					self.prevTabIndex = self.activeTabIndex;
				}
				// onchange callback
				self.makeCallback('onChange', self, $nextLink);
			}, this.options.autoHeight ? this.options.animSpeed : 1);
		},

		getClassTarget: function getClassTarget($link) {
			return this.options.addToParent ? $link.parent() : $link;
		},

		getActiveTab: function getActiveTab() {
			return this.getTab(this.$tabLinks.eq(this.activeTabIndex));
		},

		getTab: function getTab($link) {
			return $($link.attr(this.options.attrib));
		},

		haveTabHolder: function haveTabHolder() {
			return this.$tabHolder && this.$tabHolder.length;
		},

		makeCallback: function makeCallback(name) {
			if (typeof this.options[name] === 'function') {
				var args = Array.prototype.slice.call(arguments);
				args.shift();
				this.options[name].apply(this, args);
			}
		},

		destroy: function destroy() {
			var self = this;

			this.$tabLinks.off('.tabset').each(function () {
				var $link = $(this);

				self.getClassTarget($link).removeClass(self.options.activeClass);
				$($link.attr(self.options.attrib)).removeClass(self.options.activeClass + ' ' + self.options.tabHiddenClass);
			});

			this.$holder.removeData('Tabset');
		}
	};

	$.fn.tabset = function (options) {
		options = $.extend({
			activeClass: 'active',
			addToParent: false,
			autoHeight: false,
			checkHash: false,
			defaultTab: true,
			animSpeed: 500,
			tabLinks: 'a',
			attrib: 'href',
			event: 'click',
			tabHiddenClass: 'js-tab-hidden'
		}, options);
		options.autoHeight = options.autoHeight && $.support.opacity;

		return this.each(function () {
			var $holder = $(this);

			if (!$holder.data('Tabset')) {
				$holder.data('Tabset', new Tabset($holder, options));
			}
		});
	};
})(jQuery, jQuery(window));

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGpzXFxhcHAuanMiLCJzcmNcXGpzXFxtb2R1bGVzXFxuYXYuanMiLCJzcmNcXGpzXFxtb2R1bGVzXFxvcGVuQ2xvc2UuanMiLCJzcmNcXGpzXFxtb2R1bGVzXFx0YWJzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7QUFDQTs7QUFDQTs7QUFFQSxPQUFPLFFBQVAsRUFBaUIsS0FBakIsQ0FBdUIsVUFBUyxDQUFULEVBQVk7QUFDL0IsaUJBQWEsSUFBYixDQUFrQjtBQUNkLGtCQUFVLGVBREk7QUFFZCxlQUFPLElBRk8sRUFBbEI7QUFJQSxNQUFFLGlCQUFGLEVBQXFCLFFBQXJCLENBQThCO0FBQzFCLG9CQUFZLE1BRGM7QUFFMUIscUJBQWEsTUFGYTtBQUcxQixpQkFBUztBQUNMLG1CQUFPO0FBREY7QUFIaUIsS0FBOUI7QUFPQSxNQUFFLGlCQUFGLEVBQXFCLFFBQXJCLENBQThCO0FBQzFCLGtCQUFjLEdBRFk7QUFFMUIsbUJBQWMsR0FGWTtBQUcxQixtQkFBYyxJQUhZO0FBSTFCLGtCQUFjLElBSlk7QUFLMUIsb0JBQWMsS0FMWTtBQU0xQixvQkFBYyxNQU5ZO0FBTzFCLHFCQUFjO0FBUFksS0FBOUI7QUFTQSxNQUFFLFlBQVk7QUFDWixZQUFJLEVBQUUsTUFBRixFQUFVLEtBQVYsS0FBb0IsSUFBeEIsRUFBOEI7QUFDNUIsb0JBQVEsSUFBUixDQUFhLEVBQUMsYUFBYSxLQUFkLEVBQWI7QUFDQSxjQUFFLGVBQUYsRUFBbUIsV0FBbkI7QUFDSDtBQUNKLEtBTEc7QUFNSCxDQTNCRDs7Ozs7QUNKQTtBQUNBLE9BQU8sWUFBVztBQUNkO0FBQ0EsTUFBRSxjQUFGLEVBQWtCLEtBQWxCLENBQXdCLFVBQVMsS0FBVCxFQUFnQjtBQUNwQyxjQUFNLGNBQU47QUFDQSxVQUFFLElBQUYsRUFBUSxNQUFSLEdBQWlCLElBQWpCLENBQXNCLFdBQXRCLEVBQW1D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RUFBRSxNQUFGLENBQVM7QUFDbEIsZ0JBQWEsUUFESztBQUVsQixnQkFBYSxLQUZLO0FBR2xCLGVBQVksS0FITTtBQUlsQixjQUFXLEtBSk87QUFLbEIsZUFBWSxJQUxNO0FBTWxCLGNBQVcsR0FOTztBQU9sQixhQUFVLEdBUFE7QUFRbEIsV0FBUSxNQVJVO0FBU2xCLFVBQU8sT0FUVztBQVVsQixtQkFBZ0I7QUFWRSxHQUFULEVBV1AsT0FYTyxDQUFWO0FBWUEsVUFBUSxVQUFSLEdBQXFCLFFBQVEsVUFBUixJQUFzQixFQUFFLE9BQUYsQ0FBVSxPQUFyRDs7QUFFQSxTQUFPLEtBQUssSUFBTCxDQUFVLFlBQVc7QUFDM0IsT0FBSSxVQUFVLEVBQUUsSUFBRixDQUFkOztBQUVBLE9BQUksQ0FBQyxRQUFRLElBQVIsQ0FBYSxRQUFiLENBQUwsRUFBNkI7QUFDNUIsWUFBUSxJQUFSLENBQWEsUUFBYixFQUF1QixJQUFJLE1BQUosQ0FBVyxPQUFYLEVBQW9CLE9BQXBCLENBQXZCO0FBQ0E7QUFDRCxHQU5NLENBQVA7QUFPQSxFQXRCRDtBQXVCQSxDQXZMQyxFQXVMQSxNQXZMQSxFQXVMUSxPQUFPLE1BQVAsQ0F2TFIsQ0FBRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgJy4vbW9kdWxlcy9uYXYnO1xyXG5pbXBvcnQgJy4vbW9kdWxlcy90YWJzJztcclxuaW1wb3J0ICcuL21vZHVsZXMvb3BlbkNsb3NlJztcclxuXHJcbmpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCkge1xyXG4gICAgc21vb3RoU2Nyb2xsLmluaXQoe1xyXG4gICAgICAgIHNlbGVjdG9yOiAnW2RhdGEtc2Nyb2xsXScsXHJcbiAgICAgICAgc3BlZWQ6IDEwMDAsIC8vIEludGVnZXIuIEhvdyBmYXN0IHRvIGNvbXBsZXRlIHRoZSBzY3JvbGwgaW4gbWlsbGlzZWNvbmRzXHJcbiAgICB9KTtcclxuICAgICQoXCIuZmFuY3lib3gtbWVkaWFcIikuZmFuY3lib3goe1xyXG4gICAgICAgIG9wZW5FZmZlY3Q6ICdub25lJyxcclxuICAgICAgICBjbG9zZUVmZmVjdDogJ25vbmUnLFxyXG4gICAgICAgIGhlbHBlcnM6IHtcclxuICAgICAgICAgICAgbWVkaWE6IHt9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAkKFwiLmVjb25vbWVzLXBvcHVwXCIpLmZhbmN5Ym94KHtcclxuICAgICAgICBtYXhXaWR0aCAgICA6IDUwMCxcclxuICAgICAgICBtYXhIZWlnaHQgICA6IDQwMCxcclxuICAgICAgICBmaXRUb1ZpZXcgICA6IHRydWUsXHJcbiAgICAgICAgYXV0b1NpemUgICAgOiB0cnVlLFxyXG4gICAgICAgIGNsb3NlQ2xpY2sgIDogZmFsc2UsXHJcbiAgICAgICAgb3BlbkVmZmVjdCAgOiAnbm9uZScsXHJcbiAgICAgICAgY2xvc2VFZmZlY3QgOiAnbm9uZSdcclxuICAgIH0pO1xyXG4gICAgJChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+IDEwMjQpIHtcclxuICAgICAgICBza3JvbGxyLmluaXQoe2ZvcmNlSGVpZ2h0OiBmYWxzZX0pO1xyXG4gICAgICAgICQoJy5zY3JvbGwtYmxvY2snKS5qU2Nyb2xsUGFuZSgpO1xyXG4gICAgfVxyXG59KTtcclxufSk7XHJcbiIsIi8vIHBhZ2UgaW5pdFxyXG5qUXVlcnkoZnVuY3Rpb24oKSB7XHJcbiAgICBpbml0TW9iaWxlTmF2KCk7XHJcbiAgICAkKFwiLmRyb3Atb3BlbmVyXCIpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmZpbmQoXCIuZHJvcGRvd25cIikudG9nZ2xlQ2xhc3MoXCJvcGVuZWRcIik7XHJcbiAgICB9KTtcclxuICAgICQoXCJib2R5XCIpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZiAoJChlLnRhcmdldCkuY2xvc2VzdChcIi5ob2xkZXIyXCIpLmxlbmd0aCA9PSAwKVxyXG4gICAgICAgICAgICAkKFwiLmRyb3Bkb3duXCIpLnJlbW92ZUNsYXNzKFwib3BlbmVkXCIpO1xyXG4gICAgICAgIGlmICgkKGUudGFyZ2V0KS5jbG9zZXN0KFwiLnNoYXJlLW9wZW5lZFwiKS5sZW5ndGggPT0gMClcclxuICAgICAgICAgICAgJChcIi5zaGFyZS1ob2xkZXJcIikucmVtb3ZlQ2xhc3MoXCJzaGFyZS1vcGVuZWRcIik7XHJcbiAgICB9KTtcclxuICAgICQoXCIuc2hhcmUtaG9sZGVyXCIpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKFwic2hhcmUtb3BlbmVkXCIpO1xyXG4gICAgfSk7XHJcblxyXG59KTtcclxuXHJcbi8vIG1vYmlsZSBtZW51IGluaXRcclxuZnVuY3Rpb24gaW5pdE1vYmlsZU5hdigpIHtcclxuICAgIGpRdWVyeSgnYm9keScpLm1vYmlsZU5hdih7XHJcbiAgICAgICAgaGlkZU9uQ2xpY2tPdXRzaWRlOiB0cnVlLFxyXG4gICAgICAgIG1lbnVBY3RpdmVDbGFzczogJ25hdi1hY3RpdmUnLFxyXG4gICAgICAgIG1lbnVPcGVuZXI6ICcubWVudS1vcGVuZXInLFxyXG4gICAgICAgIG1lbnVEcm9wOiAnLm5hdi1ob2xkZXInXHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcblxyXG4vKlxyXG4gKiBTaW1wbGUgTW9iaWxlIE5hdmlnYXRpb25cclxuICovXHJcbjtcclxuKGZ1bmN0aW9uKCQpIHtcclxuICAgIGZ1bmN0aW9uIE1vYmlsZU5hdihvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe1xyXG4gICAgICAgICAgICBjb250YWluZXI6IG51bGwsXHJcbiAgICAgICAgICAgIGhpZGVPbkNsaWNrT3V0c2lkZTogZmFsc2UsXHJcbiAgICAgICAgICAgIG1lbnVBY3RpdmVDbGFzczogJ25hdi1hY3RpdmUnLFxyXG4gICAgICAgICAgICBtZW51T3BlbmVyOiAnLm5hdi1vcGVuZXInLFxyXG4gICAgICAgICAgICBtZW51RHJvcDogJy5uYXYtZHJvcCcsXHJcbiAgICAgICAgICAgIHRvZ2dsZUV2ZW50OiAnY2xpY2snLFxyXG4gICAgICAgICAgICBvdXRzaWRlQ2xpY2tFdmVudDogJ2NsaWNrIHRvdWNoc3RhcnQgcG9pbnRlcmRvd24gTVNQb2ludGVyRG93bidcclxuICAgICAgICB9LCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLmluaXRTdHJ1Y3R1cmUoKTtcclxuICAgICAgICB0aGlzLmF0dGFjaEV2ZW50cygpO1xyXG4gICAgfVxyXG4gICAgTW9iaWxlTmF2LnByb3RvdHlwZSA9IHtcclxuICAgICAgICBpbml0U3RydWN0dXJlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5wYWdlID0gJCgnaHRtbCcpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9ICQodGhpcy5vcHRpb25zLmNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIHRoaXMub3BlbmVyID0gdGhpcy5jb250YWluZXIuZmluZCh0aGlzLm9wdGlvbnMubWVudU9wZW5lcik7XHJcbiAgICAgICAgICAgIHRoaXMuZHJvcCA9IHRoaXMuY29udGFpbmVyLmZpbmQodGhpcy5vcHRpb25zLm1lbnVEcm9wKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGF0dGFjaEV2ZW50czogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIGlmIChhY3RpdmF0ZVJlc2l6ZUhhbmRsZXIpIHtcclxuICAgICAgICAgICAgICAgIGFjdGl2YXRlUmVzaXplSGFuZGxlcigpO1xyXG4gICAgICAgICAgICAgICAgYWN0aXZhdGVSZXNpemVIYW5kbGVyID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5vdXRzaWRlQ2xpY2tIYW5kbGVyID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuaXNPcGVuZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSAkKGUudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRhcmdldC5jbG9zZXN0KHNlbGYub3BlbmVyKS5sZW5ndGggJiYgIXRhcmdldC5jbG9zZXN0KHNlbGYuZHJvcCkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub3BlbmVyQ2xpY2tIYW5kbGVyID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi50b2dnbGUoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub3BlbmVyLm9uKHRoaXMub3B0aW9ucy50b2dnbGVFdmVudCwgdGhpcy5vcGVuZXJDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaXNPcGVuZWQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuaGFzQ2xhc3ModGhpcy5vcHRpb25zLm1lbnVBY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzaG93OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2xhc3ModGhpcy5vcHRpb25zLm1lbnVBY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaGlkZU9uQ2xpY2tPdXRzaWRlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2Uub24odGhpcy5vcHRpb25zLm91dHNpZGVDbGlja0V2ZW50LCB0aGlzLm91dHNpZGVDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBoaWRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLm1lbnVBY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaGlkZU9uQ2xpY2tPdXRzaWRlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2Uub2ZmKHRoaXMub3B0aW9ucy5vdXRzaWRlQ2xpY2tFdmVudCwgdGhpcy5vdXRzaWRlQ2xpY2tIYW5kbGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNPcGVuZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5tZW51QWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgICAgICB0aGlzLm9wZW5lci5vZmYodGhpcy5vcHRpb25zLnRvZ2dsZUV2ZW50LCB0aGlzLmNsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgICAgIHRoaXMucGFnZS5vZmYodGhpcy5vcHRpb25zLm91dHNpZGVDbGlja0V2ZW50LCB0aGlzLm91dHNpZGVDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIGFjdGl2YXRlUmVzaXplSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB3aW4gPSAkKHdpbmRvdyksXHJcbiAgICAgICAgICAgIGRvYyA9ICQoJ2h0bWwnKSxcclxuICAgICAgICAgICAgcmVzaXplQ2xhc3MgPSAncmVzaXplLWFjdGl2ZScsXHJcbiAgICAgICAgICAgIGZsYWcsIHRpbWVyO1xyXG4gICAgICAgIHZhciByZW1vdmVDbGFzc0hhbmRsZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZmxhZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBkb2MucmVtb3ZlQ2xhc3MocmVzaXplQ2xhc3MpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHJlc2l6ZUhhbmRsZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKCFmbGFnKSB7XHJcbiAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGRvYy5hZGRDbGFzcyhyZXNpemVDbGFzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KHJlbW92ZUNsYXNzSGFuZGxlciwgNTAwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHdpbi5vbigncmVzaXplIG9yaWVudGF0aW9uY2hhbmdlJywgcmVzaXplSGFuZGxlcik7XHJcbiAgICB9O1xyXG5cclxuICAgICQuZm4ubW9iaWxlTmF2ID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSAkLmV4dGVuZCh7fSwgb3B0aW9ucywgeyBjb250YWluZXI6IHRoaXMgfSksXHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyBNb2JpbGVOYXYocGFyYW1zKTtcclxuICAgICAgICAgICAgJC5kYXRhKHRoaXMsICdNb2JpbGVOYXYnLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59KGpRdWVyeSkpO1xyXG4iLCIvLyBwYWdlIGluaXRcclxualF1ZXJ5KGZ1bmN0aW9uKCl7XHJcblx0aW5pdE9wZW5DbG9zZSgpO1xyXG59KTtcclxuXHJcbi8vIG9wZW4tY2xvc2UgaW5pdFxyXG5mdW5jdGlvbiBpbml0T3BlbkNsb3NlKCkge1xyXG5cdGpRdWVyeSgnZGl2Lm9wZW4tYm94LXRleHQnKS5vcGVuQ2xvc2Uoe1xyXG5cdFx0YWN0aXZlQ2xhc3M6ICdhY3RpdmUnLFxyXG5cdFx0b3BlbmVyOiAnLm9wZW4tdGV4dC1idG4nLFxyXG5cdFx0c2xpZGVyOiAnLmhvbGRlci10ZXh0JyxcclxuXHRcdGFuaW1TcGVlZDogNDAwLFxyXG5cdFx0ZWZmZWN0OiAnc2xpZGUnXHJcblx0fSk7XHJcbn1cclxuXHJcbi8qXHJcbiAqIGpRdWVyeSBPcGVuL0Nsb3NlIHBsdWdpblxyXG4gKi9cclxuOyhmdW5jdGlvbigkKSB7XHJcblx0ZnVuY3Rpb24gT3BlbkNsb3NlKG9wdGlvbnMpIHtcclxuXHRcdHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHtcclxuXHRcdFx0YWRkQ2xhc3NCZWZvcmVBbmltYXRpb246IHRydWUsXHJcblx0XHRcdGhpZGVPbkNsaWNrT3V0c2lkZTogZmFsc2UsXHJcblx0XHRcdGFjdGl2ZUNsYXNzOidhY3RpdmUnLFxyXG5cdFx0XHRvcGVuZXI6Jy5vcGVuZXInLFxyXG5cdFx0XHRzbGlkZXI6Jy5zbGlkZScsXHJcblx0XHRcdGFuaW1TcGVlZDogNDAwLFxyXG5cdFx0XHRlZmZlY3Q6J2ZhZGUnLFxyXG5cdFx0XHRldmVudDonY2xpY2snXHJcblx0XHR9LCBvcHRpb25zKTtcclxuXHRcdHRoaXMuaW5pdCgpO1xyXG5cdH1cclxuXHRPcGVuQ2xvc2UucHJvdG90eXBlID0ge1xyXG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmICh0aGlzLm9wdGlvbnMuaG9sZGVyKSB7XHJcblx0XHRcdFx0dGhpcy5maW5kRWxlbWVudHMoKTtcclxuXHRcdFx0XHR0aGlzLmF0dGFjaEV2ZW50cygpO1xyXG5cdFx0XHRcdHRoaXMubWFrZUNhbGxiYWNrKCdvbkluaXQnLCB0aGlzKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdGZpbmRFbGVtZW50czogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMuaG9sZGVyID0gJCh0aGlzLm9wdGlvbnMuaG9sZGVyKTtcclxuXHRcdFx0dGhpcy5vcGVuZXIgPSB0aGlzLmhvbGRlci5maW5kKHRoaXMub3B0aW9ucy5vcGVuZXIpO1xyXG5cdFx0XHR0aGlzLnNsaWRlciA9IHRoaXMuaG9sZGVyLmZpbmQodGhpcy5vcHRpb25zLnNsaWRlcik7XHJcblx0XHR9LFxyXG5cdFx0YXR0YWNoRXZlbnRzOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly8gYWRkIGhhbmRsZXJcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHR0aGlzLmV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0aWYgKHNlbGYuc2xpZGVyLmhhc0NsYXNzKHNsaWRlSGlkZGVuQ2xhc3MpKSB7XHJcblx0XHRcdFx0XHRzZWxmLnNob3dTbGlkZSgpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRzZWxmLmhpZGVTbGlkZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHRcdFx0c2VsZi5vcGVuZXIuYmluZChzZWxmLm9wdGlvbnMuZXZlbnQsIHRoaXMuZXZlbnRIYW5kbGVyKTtcclxuXHJcblx0XHRcdC8vIGhvdmVyIG1vZGUgaGFuZGxlclxyXG5cdFx0XHRpZiAoc2VsZi5vcHRpb25zLmV2ZW50ID09PSAnb3ZlcicpIHtcclxuXHRcdFx0XHRzZWxmLm9wZW5lci5iaW5kKCdtb3VzZWVudGVyJywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRpZiAoIXNlbGYuaG9sZGVyLmhhc0NsYXNzKHNlbGYub3B0aW9ucy5hY3RpdmVDbGFzcykpe1xyXG5cdFx0XHRcdFx0XHRzZWxmLnNob3dTbGlkZSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdHNlbGYuaG9sZGVyLmJpbmQoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdHNlbGYuaGlkZVNsaWRlKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIG91dHNpZGUgY2xpY2sgaGFuZGxlclxyXG5cdFx0XHRzZWxmLm91dHNpZGVDbGlja0hhbmRsZXIgPSBmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0aWYgKHNlbGYub3B0aW9ucy5oaWRlT25DbGlja091dHNpZGUpIHtcclxuXHRcdFx0XHRcdHZhciB0YXJnZXQgPSAkKGUudGFyZ2V0KTtcclxuXHRcdFx0XHRcdGlmICghdGFyZ2V0LmlzKHNlbGYuaG9sZGVyKSAmJiAhdGFyZ2V0LmNsb3Nlc3Qoc2VsZi5ob2xkZXIpLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHRzZWxmLmhpZGVTbGlkZSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8vIHNldCBpbml0aWFsIHN0eWxlc1xyXG5cdFx0XHRpZiAodGhpcy5ob2xkZXIuaGFzQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKSkge1xyXG5cdFx0XHRcdCQoZG9jdW1lbnQpLmJpbmQoJ2NsaWNrIHRvdWNoc3RhcnQnLCBzZWxmLm91dHNpZGVDbGlja0hhbmRsZXIpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuc2xpZGVyLmFkZENsYXNzKHNsaWRlSGlkZGVuQ2xhc3MpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0c2hvd1NsaWRlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHRpZiAoc2VsZi5vcHRpb25zLmFkZENsYXNzQmVmb3JlQW5pbWF0aW9uKSB7XHJcblx0XHRcdFx0c2VsZi5ob2xkZXIuYWRkQ2xhc3Moc2VsZi5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzZWxmLnNsaWRlci5yZW1vdmVDbGFzcyhzbGlkZUhpZGRlbkNsYXNzKTtcclxuXHRcdFx0JChkb2N1bWVudCkuYmluZCgnY2xpY2sgdG91Y2hzdGFydCcsIHNlbGYub3V0c2lkZUNsaWNrSGFuZGxlcik7XHJcblxyXG5cdFx0XHRzZWxmLm1ha2VDYWxsYmFjaygnYW5pbVN0YXJ0JywgdHJ1ZSk7XHJcblx0XHRcdHRvZ2dsZUVmZmVjdHNbc2VsZi5vcHRpb25zLmVmZmVjdF0uc2hvdyh7XHJcblx0XHRcdFx0Ym94OiBzZWxmLnNsaWRlcixcclxuXHRcdFx0XHRzcGVlZDogc2VsZi5vcHRpb25zLmFuaW1TcGVlZCxcclxuXHRcdFx0XHRjb21wbGV0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRpZiAoIXNlbGYub3B0aW9ucy5hZGRDbGFzc0JlZm9yZUFuaW1hdGlvbikge1xyXG5cdFx0XHRcdFx0XHRzZWxmLmhvbGRlci5hZGRDbGFzcyhzZWxmLm9wdGlvbnMuYWN0aXZlQ2xhc3MpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0c2VsZi5tYWtlQ2FsbGJhY2soJ2FuaW1FbmQnLCB0cnVlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHRcdGhpZGVTbGlkZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0aWYgKHNlbGYub3B0aW9ucy5hZGRDbGFzc0JlZm9yZUFuaW1hdGlvbikge1xyXG5cdFx0XHRcdHNlbGYuaG9sZGVyLnJlbW92ZUNsYXNzKHNlbGYub3B0aW9ucy5hY3RpdmVDbGFzcyk7XHJcblx0XHRcdH1cclxuXHRcdFx0JChkb2N1bWVudCkudW5iaW5kKCdjbGljayB0b3VjaHN0YXJ0Jywgc2VsZi5vdXRzaWRlQ2xpY2tIYW5kbGVyKTtcclxuXHJcblx0XHRcdHNlbGYubWFrZUNhbGxiYWNrKCdhbmltU3RhcnQnLCBmYWxzZSk7XHJcblx0XHRcdHRvZ2dsZUVmZmVjdHNbc2VsZi5vcHRpb25zLmVmZmVjdF0uaGlkZSh7XHJcblx0XHRcdFx0Ym94OiBzZWxmLnNsaWRlcixcclxuXHRcdFx0XHRzcGVlZDogc2VsZi5vcHRpb25zLmFuaW1TcGVlZCxcclxuXHRcdFx0XHRjb21wbGV0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRpZiAoIXNlbGYub3B0aW9ucy5hZGRDbGFzc0JlZm9yZUFuaW1hdGlvbikge1xyXG5cdFx0XHRcdFx0XHRzZWxmLmhvbGRlci5yZW1vdmVDbGFzcyhzZWxmLm9wdGlvbnMuYWN0aXZlQ2xhc3MpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0c2VsZi5zbGlkZXIuYWRkQ2xhc3Moc2xpZGVIaWRkZW5DbGFzcyk7XHJcblx0XHRcdFx0XHRzZWxmLm1ha2VDYWxsYmFjaygnYW5pbUVuZCcsIGZhbHNlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHRcdGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLnNsaWRlci5yZW1vdmVDbGFzcyhzbGlkZUhpZGRlbkNsYXNzKS5jc3MoeyBkaXNwbGF5OicnIH0pO1xyXG5cdFx0XHR0aGlzLm9wZW5lci51bmJpbmQodGhpcy5vcHRpb25zLmV2ZW50LCB0aGlzLmV2ZW50SGFuZGxlcik7XHJcblx0XHRcdHRoaXMuaG9sZGVyLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcykucmVtb3ZlRGF0YSgnT3BlbkNsb3NlJyk7XHJcblx0XHRcdCQoZG9jdW1lbnQpLnVuYmluZCgnY2xpY2sgdG91Y2hzdGFydCcsIHRoaXMub3V0c2lkZUNsaWNrSGFuZGxlcik7XHJcblx0XHR9LFxyXG5cdFx0bWFrZUNhbGxiYWNrOiBmdW5jdGlvbihuYW1lKSB7XHJcblx0XHRcdGlmICh0eXBlb2YgdGhpcy5vcHRpb25zW25hbWVdID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0dmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xyXG5cdFx0XHRcdGFyZ3Muc2hpZnQoKTtcclxuXHRcdFx0XHR0aGlzLm9wdGlvbnNbbmFtZV0uYXBwbHkodGhpcywgYXJncyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvLyBhZGQgc3R5bGVzaGVldCBmb3Igc2xpZGUgb24gRE9NUmVhZHlcclxuXHR2YXIgc2xpZGVIaWRkZW5DbGFzcyA9ICdqcy1zbGlkZS1oaWRkZW4nO1xyXG5cdChmdW5jdGlvbigpIHtcclxuXHRcdHZhciB0YWJTdHlsZVNoZWV0ID0gJCgnPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPicpWzBdO1xyXG5cdFx0dmFyIHRhYlN0eWxlUnVsZSA9ICcuJyArIHNsaWRlSGlkZGVuQ2xhc3M7XHJcblx0XHR0YWJTdHlsZVJ1bGUgKz0gJ3twb3NpdGlvbjphYnNvbHV0ZSAhaW1wb3J0YW50O2xlZnQ6LTk5OTlweCAhaW1wb3J0YW50O3RvcDotOTk5OXB4ICFpbXBvcnRhbnQ7ZGlzcGxheTpibG9jayAhaW1wb3J0YW50fSc7XHJcblx0XHRpZiAodGFiU3R5bGVTaGVldC5zdHlsZVNoZWV0KSB7XHJcblx0XHRcdHRhYlN0eWxlU2hlZXQuc3R5bGVTaGVldC5jc3NUZXh0ID0gdGFiU3R5bGVSdWxlO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGFiU3R5bGVTaGVldC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0YWJTdHlsZVJ1bGUpKTtcclxuXHRcdH1cclxuXHRcdCQoJ2hlYWQnKS5hcHBlbmQodGFiU3R5bGVTaGVldCk7XHJcblx0fSgpKTtcclxuXHJcblx0Ly8gYW5pbWF0aW9uIGVmZmVjdHNcclxuXHR2YXIgdG9nZ2xlRWZmZWN0cyA9IHtcclxuXHRcdHNsaWRlOiB7XHJcblx0XHRcdHNob3c6IGZ1bmN0aW9uKG8pIHtcclxuXHRcdFx0XHRvLmJveC5zdG9wKHRydWUpLmhpZGUoKS5zbGlkZURvd24oby5zcGVlZCwgby5jb21wbGV0ZSk7XHJcblx0XHRcdH0sXHJcblx0XHRcdGhpZGU6IGZ1bmN0aW9uKG8pIHtcclxuXHRcdFx0XHRvLmJveC5zdG9wKHRydWUpLnNsaWRlVXAoby5zcGVlZCwgby5jb21wbGV0ZSk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRmYWRlOiB7XHJcblx0XHRcdHNob3c6IGZ1bmN0aW9uKG8pIHtcclxuXHRcdFx0XHRvLmJveC5zdG9wKHRydWUpLmhpZGUoKS5mYWRlSW4oby5zcGVlZCwgby5jb21wbGV0ZSk7XHJcblx0XHRcdH0sXHJcblx0XHRcdGhpZGU6IGZ1bmN0aW9uKG8pIHtcclxuXHRcdFx0XHRvLmJveC5zdG9wKHRydWUpLmZhZGVPdXQoby5zcGVlZCwgby5jb21wbGV0ZSk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRub25lOiB7XHJcblx0XHRcdHNob3c6IGZ1bmN0aW9uKG8pIHtcclxuXHRcdFx0XHRvLmJveC5oaWRlKCkuc2hvdygwLCBvLmNvbXBsZXRlKTtcclxuXHRcdFx0fSxcclxuXHRcdFx0aGlkZTogZnVuY3Rpb24obykge1xyXG5cdFx0XHRcdG8uYm94LmhpZGUoMCwgby5jb21wbGV0ZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvLyBqUXVlcnkgcGx1Z2luIGludGVyZmFjZVxyXG5cdCQuZm4ub3BlbkNsb3NlID0gZnVuY3Rpb24ob3B0KSB7XHJcblx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRqUXVlcnkodGhpcykuZGF0YSgnT3BlbkNsb3NlJywgbmV3IE9wZW5DbG9zZSgkLmV4dGVuZChvcHQsIHsgaG9sZGVyOiB0aGlzIH0pKSk7XHJcblx0XHR9KTtcclxuXHR9O1xyXG59KGpRdWVyeSkpO1xyXG4iLCIvLyBwYWdlIGluaXRcclxualF1ZXJ5KGZ1bmN0aW9uKCl7XHJcblx0aW5pdFRhYnMoKTtcclxufSk7XHJcblxyXG4vLyBjb250ZW50IHRhYnMgaW5pdFxyXG5mdW5jdGlvbiBpbml0VGFicygpIHtcclxuXHRqUXVlcnkoJ3VsLnRhYnNldCcpLnRhYnNldCh7XHJcblx0XHR0YWJMaW5rczogJ2EnLFxyXG5cdFx0ZGVmYXVsdFRhYjogZmFsc2VcclxuXHR9KTtcclxufVxyXG5cclxuLypcclxuICogalF1ZXJ5IFRhYnMgcGx1Z2luXHJcbiAqL1xyXG5cclxuOyhmdW5jdGlvbigkLCAkd2luKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRmdW5jdGlvbiBUYWJzZXQoJGhvbGRlciwgb3B0aW9ucykge1xyXG5cdFx0dGhpcy4kaG9sZGVyID0gJGhvbGRlcjtcclxuXHRcdHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XHJcblxyXG5cdFx0dGhpcy5pbml0KCk7XHJcblx0XHR0aGlzLm1ha2VDYWxsYmFjaygnb25Jbml0JywgdGhpcyk7XHJcblx0fVxyXG5cclxuXHRUYWJzZXQucHJvdG90eXBlID0ge1xyXG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMuJHRhYkxpbmtzID0gdGhpcy4kaG9sZGVyLmZpbmQodGhpcy5vcHRpb25zLnRhYkxpbmtzKTtcclxuXHJcblx0XHRcdHRoaXMuc2V0U3RhcnRBY3RpdmVJbmRleCgpO1xyXG5cdFx0XHR0aGlzLnNldEFjdGl2ZVRhYigpO1xyXG5cclxuXHRcdFx0aWYgKHRoaXMub3B0aW9ucy5hdXRvSGVpZ2h0KSB7XHJcblx0XHRcdFx0dGhpcy4kdGFiSG9sZGVyID0gJCh0aGlzLiR0YWJMaW5rcy5lcSgwKS5hdHRyKHRoaXMub3B0aW9ucy5hdHRyaWIpKS5wYXJlbnQoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHRzZXRTdGFydEFjdGl2ZUluZGV4OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyICRjbGFzc1RhcmdldHMgPSB0aGlzLmdldENsYXNzVGFyZ2V0KHRoaXMuJHRhYkxpbmtzKTtcclxuXHRcdFx0dmFyICRhY3RpdmVMaW5rID0gJGNsYXNzVGFyZ2V0cy5maWx0ZXIoJy4nICsgdGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcclxuXHRcdFx0dmFyICRoYXNoTGluayA9IHRoaXMuJHRhYkxpbmtzLmZpbHRlcignWycgKyB0aGlzLm9wdGlvbnMuYXR0cmliICsgJz1cIicgKyBsb2NhdGlvbi5oYXNoICsgJ1wiXScpO1xyXG5cdFx0XHR2YXIgYWN0aXZlSW5kZXg7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5vcHRpb25zLmNoZWNrSGFzaCAmJiAkaGFzaExpbmsubGVuZ3RoKSB7XHJcblx0XHRcdFx0JGFjdGl2ZUxpbmsgPSAkaGFzaExpbms7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGFjdGl2ZUluZGV4ID0gJGNsYXNzVGFyZ2V0cy5pbmRleCgkYWN0aXZlTGluayk7XHJcblxyXG5cdFx0XHR0aGlzLmFjdGl2ZVRhYkluZGV4ID0gdGhpcy5wcmV2VGFiSW5kZXggPSAoYWN0aXZlSW5kZXggPT09IC0xID8gKHRoaXMub3B0aW9ucy5kZWZhdWx0VGFiID8gMCA6IG51bGwpIDogYWN0aXZlSW5kZXgpO1xyXG5cdFx0fSxcclxuXHJcblx0XHRzZXRBY3RpdmVUYWI6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0XHR0aGlzLiR0YWJMaW5rcy5lYWNoKGZ1bmN0aW9uKGksIGxpbmspIHtcclxuXHRcdFx0XHR2YXIgJGxpbmsgPSAkKGxpbmspO1xyXG5cdFx0XHRcdHZhciAkY2xhc3NUYXJnZXQgPSBzZWxmLmdldENsYXNzVGFyZ2V0KCRsaW5rKTtcclxuXHRcdFx0XHR2YXIgJHRhYiA9ICQoJGxpbmsuYXR0cihzZWxmLm9wdGlvbnMuYXR0cmliKSk7XHJcblxyXG5cdFx0XHRcdGlmIChpICE9PSBzZWxmLmFjdGl2ZVRhYkluZGV4KSB7XHJcblx0XHRcdFx0XHQkY2xhc3NUYXJnZXQucmVtb3ZlQ2xhc3Moc2VsZi5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcclxuXHRcdFx0XHRcdCR0YWIuYWRkQ2xhc3Moc2VsZi5vcHRpb25zLnRhYkhpZGRlbkNsYXNzKS5yZW1vdmVDbGFzcyhzZWxmLm9wdGlvbnMuYWN0aXZlQ2xhc3MpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQkY2xhc3NUYXJnZXQuYWRkQ2xhc3Moc2VsZi5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcclxuXHRcdFx0XHRcdCR0YWIucmVtb3ZlQ2xhc3Moc2VsZi5vcHRpb25zLnRhYkhpZGRlbkNsYXNzKS5hZGRDbGFzcyhzZWxmLm9wdGlvbnMuYWN0aXZlQ2xhc3MpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0c2VsZi5hdHRhY2hUYWJMaW5rKCRsaW5rLCBpKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdGF0dGFjaFRhYkxpbms6IGZ1bmN0aW9uKCRsaW5rLCBpKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRcdCRsaW5rLm9uKHRoaXMub3B0aW9ucy5ldmVudCArICcudGFic2V0JywgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRcdFx0aWYgKHNlbGYuYWN0aXZlVGFiSW5kZXggPT09IHNlbGYucHJldlRhYkluZGV4ICYmIHNlbGYuYWN0aXZlVGFiSW5kZXggIT09IGkpIHtcclxuXHRcdFx0XHRcdHNlbGYuYWN0aXZlVGFiSW5kZXggPSBpO1xyXG5cdFx0XHRcdFx0c2VsZi5zd2l0Y2hUYWJzKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0sXHJcblxyXG5cdFx0cmVzaXplSG9sZGVyOiBmdW5jdGlvbihoZWlnaHQpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdFx0aWYgKGhlaWdodCkge1xyXG5cdFx0XHRcdHRoaXMuJHRhYkhvbGRlci5oZWlnaHQoaGVpZ2h0KTtcclxuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0c2VsZi4kdGFiSG9sZGVyLmFkZENsYXNzKCd0cmFuc2l0aW9uJyk7XHJcblx0XHRcdFx0fSwgMTApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHNlbGYuJHRhYkhvbGRlci5yZW1vdmVDbGFzcygndHJhbnNpdGlvbicpLmhlaWdodCgnJyk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0c3dpdGNoVGFiczogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRcdHZhciAkcHJldkxpbmsgPSB0aGlzLiR0YWJMaW5rcy5lcSh0aGlzLnByZXZUYWJJbmRleCk7XHJcblx0XHRcdHZhciAkbmV4dExpbmsgPSB0aGlzLiR0YWJMaW5rcy5lcSh0aGlzLmFjdGl2ZVRhYkluZGV4KTtcclxuXHJcblx0XHRcdHZhciAkcHJldlRhYiA9IHRoaXMuZ2V0VGFiKCRwcmV2TGluayk7XHJcblx0XHRcdHZhciAkbmV4dFRhYiA9IHRoaXMuZ2V0VGFiKCRuZXh0TGluayk7XHJcblxyXG5cdFx0XHQkcHJldlRhYi5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpO1xyXG5cclxuXHRcdFx0aWYgKHNlbGYuaGF2ZVRhYkhvbGRlcigpKSB7XHJcblx0XHRcdFx0dGhpcy5yZXNpemVIb2xkZXIoJHByZXZUYWIub3V0ZXJIZWlnaHQoKSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0c2VsZi5nZXRDbGFzc1RhcmdldCgkcHJldkxpbmspLnJlbW92ZUNsYXNzKHNlbGYub3B0aW9ucy5hY3RpdmVDbGFzcyk7XHJcblxyXG5cdFx0XHRcdCRwcmV2VGFiLmFkZENsYXNzKHNlbGYub3B0aW9ucy50YWJIaWRkZW5DbGFzcyk7XHJcblx0XHRcdFx0JG5leHRUYWIucmVtb3ZlQ2xhc3Moc2VsZi5vcHRpb25zLnRhYkhpZGRlbkNsYXNzKS5hZGRDbGFzcyhzZWxmLm9wdGlvbnMuYWN0aXZlQ2xhc3MpO1xyXG5cclxuXHRcdFx0XHRzZWxmLmdldENsYXNzVGFyZ2V0KCRuZXh0TGluaykuYWRkQ2xhc3Moc2VsZi5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcclxuXHJcblx0XHRcdFx0aWYgKHNlbGYuaGF2ZVRhYkhvbGRlcigpKSB7XHJcblx0XHRcdFx0XHRzZWxmLnJlc2l6ZUhvbGRlcigkbmV4dFRhYi5vdXRlckhlaWdodCgpKTtcclxuXHJcblx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRzZWxmLnJlc2l6ZUhvbGRlcigpO1xyXG5cdFx0XHRcdFx0XHRzZWxmLnByZXZUYWJJbmRleCA9IHNlbGYuYWN0aXZlVGFiSW5kZXg7XHJcblx0XHRcdFx0XHR9LCBzZWxmLm9wdGlvbnMuYW5pbVNwZWVkKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0c2VsZi5wcmV2VGFiSW5kZXggPSBzZWxmLmFjdGl2ZVRhYkluZGV4O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBvbmNoYW5nZSBjYWxsYmFja1xyXG5cdFx0XHRcdHNlbGYubWFrZUNhbGxiYWNrKCdvbkNoYW5nZScsIHNlbGYsICRuZXh0TGluayk7XHJcblx0XHRcdH0sIHRoaXMub3B0aW9ucy5hdXRvSGVpZ2h0ID8gdGhpcy5vcHRpb25zLmFuaW1TcGVlZCA6IDEpO1xyXG5cdFx0fSxcclxuXHJcblx0XHRnZXRDbGFzc1RhcmdldDogZnVuY3Rpb24oJGxpbmspIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5hZGRUb1BhcmVudCA/ICRsaW5rLnBhcmVudCgpIDogJGxpbms7XHJcblx0XHR9LFxyXG5cclxuXHRcdGdldEFjdGl2ZVRhYjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldFRhYih0aGlzLiR0YWJMaW5rcy5lcSh0aGlzLmFjdGl2ZVRhYkluZGV4KSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdGdldFRhYjogZnVuY3Rpb24oJGxpbmspIHtcclxuXHRcdFx0cmV0dXJuICQoJGxpbmsuYXR0cih0aGlzLm9wdGlvbnMuYXR0cmliKSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdGhhdmVUYWJIb2xkZXI6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy4kdGFiSG9sZGVyICYmIHRoaXMuJHRhYkhvbGRlci5sZW5ndGg7XHJcblx0XHR9LFxyXG5cclxuXHRcdG1ha2VDYWxsYmFjazogZnVuY3Rpb24obmFtZSkge1xyXG5cdFx0XHRpZih0eXBlb2YgdGhpcy5vcHRpb25zW25hbWVdID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0dmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xyXG5cdFx0XHRcdGFyZ3Muc2hpZnQoKTtcclxuXHRcdFx0XHR0aGlzLm9wdGlvbnNbbmFtZV0uYXBwbHkodGhpcywgYXJncyk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0ZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRcdHRoaXMuJHRhYkxpbmtzLm9mZignLnRhYnNldCcpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dmFyICRsaW5rID0gJCh0aGlzKTtcclxuXHJcblx0XHRcdFx0c2VsZi5nZXRDbGFzc1RhcmdldCgkbGluaykucmVtb3ZlQ2xhc3Moc2VsZi5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcclxuXHRcdFx0XHQkKCRsaW5rLmF0dHIoc2VsZi5vcHRpb25zLmF0dHJpYikpLnJlbW92ZUNsYXNzKHNlbGYub3B0aW9ucy5hY3RpdmVDbGFzcyArICcgJyArIHNlbGYub3B0aW9ucy50YWJIaWRkZW5DbGFzcyk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0dGhpcy4kaG9sZGVyLnJlbW92ZURhdGEoJ1RhYnNldCcpO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdCQuZm4udGFic2V0ID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG5cdFx0b3B0aW9ucyA9ICQuZXh0ZW5kKHtcclxuXHRcdFx0YWN0aXZlQ2xhc3M6ICdhY3RpdmUnLFxyXG5cdFx0XHRhZGRUb1BhcmVudDogZmFsc2UsXHJcblx0XHRcdGF1dG9IZWlnaHQ6IGZhbHNlLFxyXG5cdFx0XHRjaGVja0hhc2g6IGZhbHNlLFxyXG5cdFx0XHRkZWZhdWx0VGFiOiB0cnVlLFxyXG5cdFx0XHRhbmltU3BlZWQ6IDUwMCxcclxuXHRcdFx0dGFiTGlua3M6ICdhJyxcclxuXHRcdFx0YXR0cmliOiAnaHJlZicsXHJcblx0XHRcdGV2ZW50OiAnY2xpY2snLFxyXG5cdFx0XHR0YWJIaWRkZW5DbGFzczogJ2pzLXRhYi1oaWRkZW4nXHJcblx0XHR9LCBvcHRpb25zKTtcclxuXHRcdG9wdGlvbnMuYXV0b0hlaWdodCA9IG9wdGlvbnMuYXV0b0hlaWdodCAmJiAkLnN1cHBvcnQub3BhY2l0eTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgJGhvbGRlciA9ICQodGhpcyk7XHJcblxyXG5cdFx0XHRpZiAoISRob2xkZXIuZGF0YSgnVGFic2V0JykpIHtcclxuXHRcdFx0XHQkaG9sZGVyLmRhdGEoJ1RhYnNldCcsIG5ldyBUYWJzZXQoJGhvbGRlciwgb3B0aW9ucykpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9O1xyXG59KGpRdWVyeSwgalF1ZXJ5KHdpbmRvdykpKTsiXX0=
