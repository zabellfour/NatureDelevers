(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

require('./modules/nav');

require('./modules/tabs');

require('./modules/openClose');

jQuery(document).ready(function ($) {

    $('div.open-box-text').openClose;
    $('body').on('click', '.scroll-link', function () {
        var offset = $('.body-holder').position().top;
        $("body, .modal").animate({ scrollTop: offset }, 'slow');
    });

    $(".fancybox-media").fancybox({
        openEffect: 'none',
        closeEffect: 'none',
        helpers: {
            media: {}
        }
    });
    $(function () {
        if ($(window).width() > 1024) {
            $('.scroll-block').jScrollPane();
        }
    });
    $(".economes-popup").fancybox({
        maxWidth: 500,
        maxHeight: 400,
        fitToView: true,
        autoSize: true,
        closeClick: false,
        openEffect: 'none',
        closeEffect: 'none'
    });
    $(".fancybox-media").fancybox({
        openEffect: 'none',
        closeEffect: 'none',
        helpers: {
            media: {}
        }
    });
    $('#modalChapter').on('shown.bs.modal', function () {
        skrollr.init({ forceHeight: false });
    });
});

},{"./modules/nav":2,"./modules/openClose":3,"./modules/tabs":4}],2:[function(require,module,exports){
"use strict";

// page init
jQuery(function () {
    initMobileNav();
    $(".drop-opener").click(function (event) {
        event.preventDefault();
        $(this).parent().find(".dropdown").toggleClass("opened");
    });
    $("body").click(function (e) {
        if ($(e.target).closest(".holder2").length == 0) $(".dropdown").removeClass("opened");
        if ($(e.target).closest(".share-opened").length == 0) $(".share-holder").removeClass("share-opened");
    });
    $(".share-holder").click(function (event) {
        event.preventDefault();
        $(this).toggleClass("share-opened");
    });
});

// mobile menu init
function initMobileNav() {
    jQuery('body').mobileNav({
        hideOnClickOutside: true,
        menuActiveClass: 'nav-active',
        menuOpener: '.menu-opener',
        menuDrop: '.nav-holder'
    });
}

/*
 * Simple Mobile Navigation
 */
;
(function ($) {
    function MobileNav(options) {
        this.options = $.extend({
            container: null,
            hideOnClickOutside: false,
            menuActiveClass: 'nav-active',
            menuOpener: '.nav-opener',
            menuDrop: '.nav-drop',
            toggleEvent: 'click',
            outsideClickEvent: 'click touchstart pointerdown MSPointerDown'
        }, options);
        this.initStructure();
        this.attachEvents();
    }
    MobileNav.prototype = {
        initStructure: function initStructure() {
            this.page = $('html');
            this.container = $(this.options.container);
            this.opener = this.container.find(this.options.menuOpener);
            this.drop = this.container.find(this.options.menuDrop);
        },
        attachEvents: function attachEvents() {
            var self = this;

            if (activateResizeHandler) {
                activateResizeHandler();
                activateResizeHandler = null;
            }

            this.outsideClickHandler = function (e) {
                if (self.isOpened()) {
                    var target = $(e.target);
                    if (!target.closest(self.opener).length && !target.closest(self.drop).length) {
                        self.hide();
                    }
                }
            };

            this.openerClickHandler = function (e) {
                e.preventDefault();
                self.toggle();
            };

            this.opener.on(this.options.toggleEvent, this.openerClickHandler);
        },
        isOpened: function isOpened() {
            return this.container.hasClass(this.options.menuActiveClass);
        },
        show: function show() {
            this.container.addClass(this.options.menuActiveClass);
            if (this.options.hideOnClickOutside) {
                this.page.on(this.options.outsideClickEvent, this.outsideClickHandler);
            }
        },
        hide: function hide() {
            this.container.removeClass(this.options.menuActiveClass);
            if (this.options.hideOnClickOutside) {
                this.page.off(this.options.outsideClickEvent, this.outsideClickHandler);
            }
        },
        toggle: function toggle() {
            if (this.isOpened()) {
                this.hide();
            } else {
                this.show();
            }
        },
        destroy: function destroy() {
            this.container.removeClass(this.options.menuActiveClass);
            this.opener.off(this.options.toggleEvent, this.clickHandler);
            this.page.off(this.options.outsideClickEvent, this.outsideClickHandler);
        }
    };

    var activateResizeHandler = function activateResizeHandler() {
        var win = $(window),
            doc = $('html'),
            resizeClass = 'resize-active',
            flag,
            timer;
        var removeClassHandler = function removeClassHandler() {
            flag = false;
            doc.removeClass(resizeClass);
        };
        var resizeHandler = function resizeHandler() {
            if (!flag) {
                flag = true;
                doc.addClass(resizeClass);
            }
            clearTimeout(timer);
            timer = setTimeout(removeClassHandler, 500);
        };
        win.on('resize orientationchange', resizeHandler);
    };

    $.fn.mobileNav = function (options) {
        return this.each(function () {
            var params = $.extend({}, options, { container: this }),
                instance = new MobileNav(params);
            $.data(this, 'MobileNav', instance);
        });
    };
})(jQuery);

},{}],3:[function(require,module,exports){
'use strict';

/*
 * jQuery Open/Close plugin
 */
;
(function ($) {
    function OpenClose(options) {
        this.options = $.extend({
            addClassBeforeAnimation: true,
            hideOnClickOutside: false,
            activeClass: 'active',
            opener: '.opener',
            slider: '.slide',
            animSpeed: 400,
            effect: 'fade',
            event: 'click'
        }, options);
        this.init();
    }
    OpenClose.prototype = {
        init: function init() {
            if (this.options.holder) {
                this.findElements();
                this.attachEvents();
                this.makeCallback('onInit', this);
            }
        },
        findElements: function findElements() {
            this.holder = $(this.options.holder);
            this.opener = this.holder.find(this.options.opener);
            this.slider = this.holder.find(this.options.slider);
        },
        attachEvents: function attachEvents() {
            // add handler
            var self = this;
            this.eventHandler = function (e) {
                e.preventDefault();
                if (self.slider.hasClass(slideHiddenClass)) {
                    self.showSlide();
                } else {
                    self.hideSlide();
                }
            };
            self.opener.bind(self.options.event, this.eventHandler);

            // hover mode handler
            if (self.options.event === 'over') {
                self.opener.bind('mouseenter', function () {
                    if (!self.holder.hasClass(self.options.activeClass)) {
                        self.showSlide();
                    }
                });
                self.holder.bind('mouseleave', function () {
                    self.hideSlide();
                });
            }

            // outside click handler
            self.outsideClickHandler = function (e) {
                if (self.options.hideOnClickOutside) {
                    var target = $(e.target);
                    if (!target.is(self.holder) && !target.closest(self.holder).length) {
                        self.hideSlide();
                    }
                }
            };

            // set initial styles
            if (this.holder.hasClass(this.options.activeClass)) {
                $(document).bind('click touchstart', self.outsideClickHandler);
            } else {
                this.slider.addClass(slideHiddenClass);
            }
        },
        showSlide: function showSlide() {
            var self = this;
            if (self.options.addClassBeforeAnimation) {
                self.holder.addClass(self.options.activeClass);
            }
            self.slider.removeClass(slideHiddenClass);
            $(document).bind('click touchstart', self.outsideClickHandler);

            self.makeCallback('animStart', true);
            toggleEffects[self.options.effect].show({
                box: self.slider,
                speed: self.options.animSpeed,
                complete: function complete() {
                    if (!self.options.addClassBeforeAnimation) {
                        self.holder.addClass(self.options.activeClass);
                    }
                    self.makeCallback('animEnd', true);
                }
            });
        },
        hideSlide: function hideSlide() {
            var self = this;
            if (self.options.addClassBeforeAnimation) {
                self.holder.removeClass(self.options.activeClass);
            }
            $(document).unbind('click touchstart', self.outsideClickHandler);

            self.makeCallback('animStart', false);
            toggleEffects[self.options.effect].hide({
                box: self.slider,
                speed: self.options.animSpeed,
                complete: function complete() {
                    if (!self.options.addClassBeforeAnimation) {
                        self.holder.removeClass(self.options.activeClass);
                    }
                    self.slider.addClass(slideHiddenClass);
                    self.makeCallback('animEnd', false);
                }
            });
        },
        destroy: function destroy() {
            this.slider.removeClass(slideHiddenClass).css({ display: '' });
            this.opener.unbind(this.options.event, this.eventHandler);
            this.holder.removeClass(this.options.activeClass).removeData('OpenClose');
            $(document).unbind('click touchstart', this.outsideClickHandler);
        },
        makeCallback: function makeCallback(name) {
            if (typeof this.options[name] === 'function') {
                var args = Array.prototype.slice.call(arguments);
                args.shift();
                this.options[name].apply(this, args);
            }
        }
    };

    // add stylesheet for slide on DOMReady
    var slideHiddenClass = 'js-slide-hidden';
    (function () {
        var tabStyleSheet = $('<style type="text/css">')[0];
        var tabStyleRule = '.' + slideHiddenClass;
        tabStyleRule += '{position:absolute !important;left:-9999px !important;top:-9999px !important;display:block !important}';
        if (tabStyleSheet.styleSheet) {
            tabStyleSheet.styleSheet.cssText = tabStyleRule;
        } else {
            tabStyleSheet.appendChild(document.createTextNode(tabStyleRule));
        }
        $('head').append(tabStyleSheet);
    })();

    // animation effects
    var toggleEffects = {
        slide: {
            show: function show(o) {
                o.box.stop(true).hide().slideDown(o.speed, o.complete);
            },
            hide: function hide(o) {
                o.box.stop(true).slideUp(o.speed, o.complete);
            }
        },
        fade: {
            show: function show(o) {
                o.box.stop(true).hide().fadeIn(o.speed, o.complete);
            },
            hide: function hide(o) {
                o.box.stop(true).fadeOut(o.speed, o.complete);
            }
        },
        none: {
            show: function show(o) {
                o.box.hide().show(0, o.complete);
            },
            hide: function hide(o) {
                o.box.hide(0, o.complete);
            }
        }
    };

    // jQuery plugin interface
    $.fn.openClose = function (opt) {
        return this.each(function () {
            jQuery(this).data('OpenClose', new OpenClose($.extend(opt, { holder: this })));
        });
    };
})(jQuery);

},{}],4:[function(require,module,exports){
'use strict';

// page init
jQuery(function () {
	initTabs();
});

// content tabs init
function initTabs() {
	jQuery('ul.tabset').tabset({
		tabLinks: 'a',
		defaultTab: false
	});
}

/*
 * jQuery Tabs plugin
 */

;(function ($, $win) {
	'use strict';

	function Tabset($holder, options) {
		this.$holder = $holder;
		this.options = options;

		this.init();
		this.makeCallback('onInit', this);
	}

	Tabset.prototype = {
		init: function init() {
			this.$tabLinks = this.$holder.find(this.options.tabLinks);

			this.setStartActiveIndex();
			this.setActiveTab();

			if (this.options.autoHeight) {
				this.$tabHolder = $(this.$tabLinks.eq(0).attr(this.options.attrib)).parent();
			}
		},

		setStartActiveIndex: function setStartActiveIndex() {
			var $classTargets = this.getClassTarget(this.$tabLinks);
			var $activeLink = $classTargets.filter('.' + this.options.activeClass);
			var $hashLink = this.$tabLinks.filter('[' + this.options.attrib + '="' + location.hash + '"]');
			var activeIndex;

			if (this.options.checkHash && $hashLink.length) {
				$activeLink = $hashLink;
			}

			activeIndex = $classTargets.index($activeLink);

			this.activeTabIndex = this.prevTabIndex = activeIndex === -1 ? this.options.defaultTab ? 0 : null : activeIndex;
		},

		setActiveTab: function setActiveTab() {
			var self = this;

			this.$tabLinks.each(function (i, link) {
				var $link = $(link);
				var $classTarget = self.getClassTarget($link);
				var $tab = $($link.attr(self.options.attrib));

				if (i !== self.activeTabIndex) {
					$classTarget.removeClass(self.options.activeClass);
					$tab.addClass(self.options.tabHiddenClass).removeClass(self.options.activeClass);
				} else {
					$classTarget.addClass(self.options.activeClass);
					$tab.removeClass(self.options.tabHiddenClass).addClass(self.options.activeClass);
				}

				self.attachTabLink($link, i);
			});
		},

		attachTabLink: function attachTabLink($link, i) {
			var self = this;

			$link.on(this.options.event + '.tabset', function (e) {
				e.preventDefault();

				if (self.activeTabIndex === self.prevTabIndex && self.activeTabIndex !== i) {
					self.activeTabIndex = i;
					self.switchTabs();
				}
			});
		},

		resizeHolder: function resizeHolder(height) {
			var self = this;

			if (height) {
				this.$tabHolder.height(height);
				setTimeout(function () {
					self.$tabHolder.addClass('transition');
				}, 10);
			} else {
				self.$tabHolder.removeClass('transition').height('');
			}
		},

		switchTabs: function switchTabs() {
			var self = this;

			var $prevLink = this.$tabLinks.eq(this.prevTabIndex);
			var $nextLink = this.$tabLinks.eq(this.activeTabIndex);

			var $prevTab = this.getTab($prevLink);
			var $nextTab = this.getTab($nextLink);

			$prevTab.removeClass(this.options.activeClass);

			if (self.haveTabHolder()) {
				this.resizeHolder($prevTab.outerHeight());
			}

			setTimeout(function () {
				self.getClassTarget($prevLink).removeClass(self.options.activeClass);

				$prevTab.addClass(self.options.tabHiddenClass);
				$nextTab.removeClass(self.options.tabHiddenClass).addClass(self.options.activeClass);

				self.getClassTarget($nextLink).addClass(self.options.activeClass);

				if (self.haveTabHolder()) {
					self.resizeHolder($nextTab.outerHeight());

					setTimeout(function () {
						self.resizeHolder();
						self.prevTabIndex = self.activeTabIndex;
					}, self.options.animSpeed);
				} else {
					self.prevTabIndex = self.activeTabIndex;
				}
				// onchange callback
				self.makeCallback('onChange', self, $nextLink);
			}, this.options.autoHeight ? this.options.animSpeed : 1);
		},

		getClassTarget: function getClassTarget($link) {
			return this.options.addToParent ? $link.parent() : $link;
		},

		getActiveTab: function getActiveTab() {
			return this.getTab(this.$tabLinks.eq(this.activeTabIndex));
		},

		getTab: function getTab($link) {
			return $($link.attr(this.options.attrib));
		},

		haveTabHolder: function haveTabHolder() {
			return this.$tabHolder && this.$tabHolder.length;
		},

		makeCallback: function makeCallback(name) {
			if (typeof this.options[name] === 'function') {
				var args = Array.prototype.slice.call(arguments);
				args.shift();
				this.options[name].apply(this, args);
			}
		},

		destroy: function destroy() {
			var self = this;

			this.$tabLinks.off('.tabset').each(function () {
				var $link = $(this);

				self.getClassTarget($link).removeClass(self.options.activeClass);
				$($link.attr(self.options.attrib)).removeClass(self.options.activeClass + ' ' + self.options.tabHiddenClass);
			});

			this.$holder.removeData('Tabset');
		}
	};

	$.fn.tabset = function (options) {
		options = $.extend({
			activeClass: 'active',
			addToParent: false,
			autoHeight: false,
			checkHash: false,
			defaultTab: true,
			animSpeed: 500,
			tabLinks: 'a',
			attrib: 'href',
			event: 'click',
			tabHiddenClass: 'js-tab-hidden'
		}, options);
		options.autoHeight = options.autoHeight && $.support.opacity;

		return this.each(function () {
			var $holder = $(this);

			if (!$holder.data('Tabset')) {
				$holder.data('Tabset', new Tabset($holder, options));
			}
		});
	};
})(jQuery, jQuery(window));

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGpzXFxhcHAuanMiLCJzcmNcXGpzXFxtb2R1bGVzXFxuYXYuanMiLCJzcmNcXGpzXFxtb2R1bGVzXFxvcGVuQ2xvc2UuanMiLCJzcmNcXGpzXFxtb2R1bGVzXFx0YWJzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7QUFDQTs7QUFDQTs7QUFLQSxPQUFPLFFBQVAsRUFBaUIsS0FBakIsQ0FBdUIsVUFBUyxDQUFULEVBQVk7O0FBRS9CLE1BQUUsbUJBQUYsRUFBdUIsU0FBdkI7QUFDQSxNQUFFLE1BQUYsRUFBVSxFQUFWLENBQWEsT0FBYixFQUFzQixjQUF0QixFQUFzQyxZQUFXO0FBQzdDLFlBQUksU0FBUyxFQUFFLGNBQUYsRUFBa0IsUUFBbEIsR0FBNkIsR0FBMUM7QUFDQSxVQUFFLGNBQUYsRUFBa0IsT0FBbEIsQ0FBMEIsRUFBRSxXQUFXLE1BQWIsRUFBMUIsRUFBaUQsTUFBakQ7QUFDSCxLQUhEOztBQUtBLE1BQUUsaUJBQUYsRUFBcUIsUUFBckIsQ0FBOEI7QUFDMUIsb0JBQVksTUFEYztBQUUxQixxQkFBYSxNQUZhO0FBRzFCLGlCQUFTO0FBQ0wsbUJBQU87QUFERjtBQUhpQixLQUE5QjtBQU9BLE1BQUUsWUFBVztBQUNULFlBQUksRUFBRSxNQUFGLEVBQVUsS0FBVixLQUFvQixJQUF4QixFQUE4QjtBQUMxQixjQUFFLGVBQUYsRUFBbUIsV0FBbkI7QUFDSDtBQUNKLEtBSkQ7QUFLQSxNQUFFLGlCQUFGLEVBQXFCLFFBQXJCLENBQThCO0FBQzFCLGtCQUFVLEdBRGdCO0FBRTFCLG1CQUFXLEdBRmU7QUFHMUIsbUJBQVcsSUFIZTtBQUkxQixrQkFBVSxJQUpnQjtBQUsxQixvQkFBWSxLQUxjO0FBTTFCLG9CQUFZLE1BTmM7QUFPMUIscUJBQWE7QUFQYSxLQUE5QjtBQVNBLE1BQUUsaUJBQUYsRUFBcUIsUUFBckIsQ0FBOEI7QUFDMUIsb0JB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QUFtQyxXQUFuQyxDQUErQyxLQUFLLE9BQUwsQ0FBYSxXQUFiLEdBQTJCLEdBQTNCLEdBQWlDLEtBQUssT0FBTCxDQUFhLGNBQTdGO0FBQ0EsSUFMRDs7QUFPQSxRQUFLLE9BQUwsQ0FBYSxVQUFiLENBQXdCLFFBQXhCO0FBQ0E7QUFsSmlCLEVBQW5COztBQXFKQSxHQUFFLEVBQUYsQ0FBSyxNQUFMLEdBQWMsVUFBUyxPQUFULEVBQWtCO0FBQy9CLFlBQVUsRUFBRSxNQUFGLENBQVM7QUFDbEIsZ0JBQWEsUUFESztBQUVsQixnQkFBYSxLQUZLO0FBR2xCLGVBQVksS0FITTtBQUlsQixjQUFXLEtBSk87QUFLbEIsZUFBWSxJQUxNO0FBTWxCLGNBQVcsR0FOTztBQU9sQixhQUFVLEdBUFE7QUFRbEIsV0FBUSxNQVJVO0FBU2xCLFVBQU8sT0FUVztBQVVsQixtQkFBZ0I7QUFWRSxHQUFULEVBV1AsT0FYTyxDQUFWO0FBWUEsVUFBUSxVQUFSLEdBQXFCLFFBQVEsVUFBUixJQUFzQixFQUFFLE9BQUYsQ0FBVSxPQUFyRDs7QUFFQSxTQUFPLEtBQUssSUFBTCxDQUFVLFlBQVc7QUFDM0IsT0FBSSxVQUFVLEVBQUUsSUFBRixDQUFkOztBQUVBLE9BQUksQ0FBQyxRQUFRLElBQVIsQ0FBYSxRQUFiLENBQUwsRUFBNkI7QUFDNUIsWUFBUSxJQUFSLENBQWEsUUFBYixFQUF1QixJQUFJLE1BQUosQ0FBVyxPQUFYLEVBQW9CLE9BQXBCLENBQXZCO0FBQ0E7QUFDRCxHQU5NLENBQVA7QUFPQSxFQXRCRDtBQXVCQSxDQXZMQyxFQXVMQSxNQXZMQSxFQXVMUSxPQUFPLE1BQVAsQ0F2TFIsQ0FBRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgJy4vbW9kdWxlcy9uYXYnO1xyXG5pbXBvcnQgJy4vbW9kdWxlcy90YWJzJztcclxuaW1wb3J0ICcuL21vZHVsZXMvb3BlbkNsb3NlJztcclxuXHJcblxyXG5cclxuXHJcbmpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCkge1xyXG5cclxuICAgICQoJ2Rpdi5vcGVuLWJveC10ZXh0Jykub3BlbkNsb3NlO1xyXG4gICAgJCgnYm9keScpLm9uKCdjbGljaycsICcuc2Nyb2xsLWxpbmsnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgb2Zmc2V0ID0gJCgnLmJvZHktaG9sZGVyJykucG9zaXRpb24oKS50b3A7XHJcbiAgICAgICAgJChcImJvZHksIC5tb2RhbFwiKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiBvZmZzZXQgfSwgJ3Nsb3cnKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoXCIuZmFuY3lib3gtbWVkaWFcIikuZmFuY3lib3goe1xyXG4gICAgICAgIG9wZW5FZmZlY3Q6ICdub25lJyxcclxuICAgICAgICBjbG9zZUVmZmVjdDogJ25vbmUnLFxyXG4gICAgICAgIGhlbHBlcnM6IHtcclxuICAgICAgICAgICAgbWVkaWE6IHt9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAkKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+IDEwMjQpIHtcclxuICAgICAgICAgICAgJCgnLnNjcm9sbC1ibG9jaycpLmpTY3JvbGxQYW5lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAkKFwiLmVjb25vbWVzLXBvcHVwXCIpLmZhbmN5Ym94KHtcclxuICAgICAgICBtYXhXaWR0aDogNTAwLFxyXG4gICAgICAgIG1heEhlaWdodDogNDAwLFxyXG4gICAgICAgIGZpdFRvVmlldzogdHJ1ZSxcclxuICAgICAgICBhdXRvU2l6ZTogdHJ1ZSxcclxuICAgICAgICBjbG9zZUNsaWNrOiBmYWxzZSxcclxuICAgICAgICBvcGVuRWZmZWN0OiAnbm9uZScsXHJcbiAgICAgICAgY2xvc2VFZmZlY3Q6ICdub25lJ1xyXG4gICAgfSk7XHJcbiAgICAkKFwiLmZhbmN5Ym94LW1lZGlhXCIpLmZhbmN5Ym94KHtcclxuICAgICAgICBvcGVuRWZmZWN0OiAnbm9uZScsXHJcbiAgICAgICAgY2xvc2VFZmZlY3Q6ICdub25lJyxcclxuICAgICAgICBoZWxwZXJzOiB7XHJcbiAgICAgICAgICAgIG1lZGlhOiB7fVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgJCgnI21vZGFsQ2hhcHRlcicpLm9uKCdzaG93bi5icy5tb2RhbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNrcm9sbHIuaW5pdCh7IGZvcmNlSGVpZ2h0OiBmYWxzZSB9KTtcclxuICAgIH0pXHJcblxyXG59KTtcclxuIiwiLy8gcGFnZSBpbml0XHJcbmpRdWVyeShmdW5jdGlvbigpIHtcclxuICAgIGluaXRNb2JpbGVOYXYoKTtcclxuICAgICQoXCIuZHJvcC1vcGVuZXJcIikuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICQodGhpcykucGFyZW50KCkuZmluZChcIi5kcm9wZG93blwiKS50b2dnbGVDbGFzcyhcIm9wZW5lZFwiKTtcclxuICAgIH0pO1xyXG4gICAgJChcImJvZHlcIikuY2xpY2soZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmICgkKGUudGFyZ2V0KS5jbG9zZXN0KFwiLmhvbGRlcjJcIikubGVuZ3RoID09IDApXHJcbiAgICAgICAgICAgICQoXCIuZHJvcGRvd25cIikucmVtb3ZlQ2xhc3MoXCJvcGVuZWRcIik7XHJcbiAgICAgICAgaWYgKCQoZS50YXJnZXQpLmNsb3Nlc3QoXCIuc2hhcmUtb3BlbmVkXCIpLmxlbmd0aCA9PSAwKVxyXG4gICAgICAgICAgICAkKFwiLnNoYXJlLWhvbGRlclwiKS5yZW1vdmVDbGFzcyhcInNoYXJlLW9wZW5lZFwiKTtcclxuICAgIH0pO1xyXG4gICAgJChcIi5zaGFyZS1ob2xkZXJcIikuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoXCJzaGFyZS1vcGVuZWRcIik7XHJcbiAgICB9KTtcclxuXHJcbn0pO1xyXG5cclxuLy8gbW9iaWxlIG1lbnUgaW5pdFxyXG5mdW5jdGlvbiBpbml0TW9iaWxlTmF2KCkge1xyXG4gICAgalF1ZXJ5KCdib2R5JykubW9iaWxlTmF2KHtcclxuICAgICAgICBoaWRlT25DbGlja091dHNpZGU6IHRydWUsXHJcbiAgICAgICAgbWVudUFjdGl2ZUNsYXNzOiAnbmF2LWFjdGl2ZScsXHJcbiAgICAgICAgbWVudU9wZW5lcjogJy5tZW51LW9wZW5lcicsXHJcbiAgICAgICAgbWVudURyb3A6ICcubmF2LWhvbGRlcidcclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuXHJcbi8qXHJcbiAqIFNpbXBsZSBNb2JpbGUgTmF2aWdhdGlvblxyXG4gKi9cclxuO1xyXG4oZnVuY3Rpb24oJCkge1xyXG4gICAgZnVuY3Rpb24gTW9iaWxlTmF2KG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lcjogbnVsbCxcclxuICAgICAgICAgICAgaGlkZU9uQ2xpY2tPdXRzaWRlOiBmYWxzZSxcclxuICAgICAgICAgICAgbWVudUFjdGl2ZUNsYXNzOiAnbmF2LWFjdGl2ZScsXHJcbiAgICAgICAgICAgIG1lbnVPcGVuZXI6ICcubmF2LW9wZW5lcicsXHJcbiAgICAgICAgICAgIG1lbnVEcm9wOiAnLm5hdi1kcm9wJyxcclxuICAgICAgICAgICAgdG9nZ2xlRXZlbnQ6ICdjbGljaycsXHJcbiAgICAgICAgICAgIG91dHNpZGVDbGlja0V2ZW50OiAnY2xpY2sgdG91Y2hzdGFydCBwb2ludGVyZG93biBNU1BvaW50ZXJEb3duJ1xyXG4gICAgICAgIH0sIG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuaW5pdFN0cnVjdHVyZSgpO1xyXG4gICAgICAgIHRoaXMuYXR0YWNoRXZlbnRzKCk7XHJcbiAgICB9XHJcbiAgICBNb2JpbGVOYXYucHJvdG90eXBlID0ge1xyXG4gICAgICAgIGluaXRTdHJ1Y3R1cmU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhZ2UgPSAkKCdodG1sJyk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gJCh0aGlzLm9wdGlvbnMuY29udGFpbmVyKTtcclxuICAgICAgICAgICAgdGhpcy5vcGVuZXIgPSB0aGlzLmNvbnRhaW5lci5maW5kKHRoaXMub3B0aW9ucy5tZW51T3BlbmVyKTtcclxuICAgICAgICAgICAgdGhpcy5kcm9wID0gdGhpcy5jb250YWluZXIuZmluZCh0aGlzLm9wdGlvbnMubWVudURyb3ApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYXR0YWNoRXZlbnRzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgaWYgKGFjdGl2YXRlUmVzaXplSGFuZGxlcikge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZhdGVSZXNpemVIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmF0ZVJlc2l6ZUhhbmRsZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLm91dHNpZGVDbGlja0hhbmRsZXIgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5pc09wZW5lZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9ICQoZS50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0LmNsb3Nlc3Qoc2VsZi5vcGVuZXIpLmxlbmd0aCAmJiAhdGFyZ2V0LmNsb3Nlc3Qoc2VsZi5kcm9wKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vcGVuZXJDbGlja0hhbmRsZXIgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRvZ2dsZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vcGVuZXIub24odGhpcy5vcHRpb25zLnRvZ2dsZUV2ZW50LCB0aGlzLm9wZW5lckNsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBpc09wZW5lZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5oYXNDbGFzcyh0aGlzLm9wdGlvbnMubWVudUFjdGl2ZUNsYXNzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNob3c6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRDbGFzcyh0aGlzLm9wdGlvbnMubWVudUFjdGl2ZUNsYXNzKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5oaWRlT25DbGlja091dHNpZGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFnZS5vbih0aGlzLm9wdGlvbnMub3V0c2lkZUNsaWNrRXZlbnQsIHRoaXMub3V0c2lkZUNsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGhpZGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMubWVudUFjdGl2ZUNsYXNzKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5oaWRlT25DbGlja091dHNpZGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFnZS5vZmYodGhpcy5vcHRpb25zLm91dHNpZGVDbGlja0V2ZW50LCB0aGlzLm91dHNpZGVDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc09wZW5lZCgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLm1lbnVBY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgICAgIHRoaXMub3BlbmVyLm9mZih0aGlzLm9wdGlvbnMudG9nZ2xlRXZlbnQsIHRoaXMuY2xpY2tIYW5kbGVyKTtcclxuICAgICAgICAgICAgdGhpcy5wYWdlLm9mZih0aGlzLm9wdGlvbnMub3V0c2lkZUNsaWNrRXZlbnQsIHRoaXMub3V0c2lkZUNsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgYWN0aXZhdGVSZXNpemVIYW5kbGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHdpbiA9ICQod2luZG93KSxcclxuICAgICAgICAgICAgZG9jID0gJCgnaHRtbCcpLFxyXG4gICAgICAgICAgICByZXNpemVDbGFzcyA9ICdyZXNpemUtYWN0aXZlJyxcclxuICAgICAgICAgICAgZmxhZywgdGltZXI7XHJcbiAgICAgICAgdmFyIHJlbW92ZUNsYXNzSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBmbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGRvYy5yZW1vdmVDbGFzcyhyZXNpemVDbGFzcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgcmVzaXplSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoIWZsYWcpIHtcclxuICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZG9jLmFkZENsYXNzKHJlc2l6ZUNsYXNzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xyXG4gICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQocmVtb3ZlQ2xhc3NIYW5kbGVyLCA1MDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgd2luLm9uKCdyZXNpemUgb3JpZW50YXRpb25jaGFuZ2UnLCByZXNpemVIYW5kbGVyKTtcclxuICAgIH07XHJcblxyXG4gICAgJC5mbi5tb2JpbGVOYXYgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHBhcmFtcyA9ICQuZXh0ZW5kKHt9LCBvcHRpb25zLCB7IGNvbnRhaW5lcjogdGhpcyB9KSxcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlID0gbmV3IE1vYmlsZU5hdihwYXJhbXMpO1xyXG4gICAgICAgICAgICAkLmRhdGEodGhpcywgJ01vYmlsZU5hdicsIGluc3RhbmNlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbn0oalF1ZXJ5KSk7XHJcbiIsIi8qXHJcbiAqIGpRdWVyeSBPcGVuL0Nsb3NlIHBsdWdpblxyXG4gKi9cclxuO1xyXG4oZnVuY3Rpb24oJCkge1xyXG4gICAgZnVuY3Rpb24gT3BlbkNsb3NlKG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7XHJcbiAgICAgICAgICAgIGFkZENsYXNzQmVmb3JlQW5pbWF0aW9uOiB0cnVlLFxyXG4gICAgICAgICAgICBoaWRlT25DbGlja091dHNpZGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBhY3RpdmVDbGFzczogJ2FjdGl2ZScsXHJcbiAgICAgICAgICAgIG9wZW5lcjogJy5vcGVuZXInLFxyXG4gICAgICAgICAgICBzbGlkZXI6ICcuc2xpZGUnLFxyXG4gICAgICAgICAgICBhbmltU3BlZWQ6IDQwMCxcclxuICAgICAgICAgICAgZWZmZWN0OiAnZmFkZScsXHJcbiAgICAgICAgICAgIGV2ZW50OiAnY2xpY2snXHJcbiAgICAgICAgfSwgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcbiAgICBPcGVuQ2xvc2UucHJvdG90eXBlID0ge1xyXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmhvbGRlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maW5kRWxlbWVudHMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNoRXZlbnRzKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1ha2VDYWxsYmFjaygnb25Jbml0JywgdGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGZpbmRFbGVtZW50czogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9sZGVyID0gJCh0aGlzLm9wdGlvbnMuaG9sZGVyKTtcclxuICAgICAgICAgICAgdGhpcy5vcGVuZXIgPSB0aGlzLmhvbGRlci5maW5kKHRoaXMub3B0aW9ucy5vcGVuZXIpO1xyXG4gICAgICAgICAgICB0aGlzLnNsaWRlciA9IHRoaXMuaG9sZGVyLmZpbmQodGhpcy5vcHRpb25zLnNsaWRlcik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhdHRhY2hFdmVudHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAvLyBhZGQgaGFuZGxlclxyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuc2xpZGVyLmhhc0NsYXNzKHNsaWRlSGlkZGVuQ2xhc3MpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zaG93U2xpZGUoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5oaWRlU2xpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgc2VsZi5vcGVuZXIuYmluZChzZWxmLm9wdGlvbnMuZXZlbnQsIHRoaXMuZXZlbnRIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGhvdmVyIG1vZGUgaGFuZGxlclxyXG4gICAgICAgICAgICBpZiAoc2VsZi5vcHRpb25zLmV2ZW50ID09PSAnb3ZlcicpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYub3BlbmVyLmJpbmQoJ21vdXNlZW50ZXInLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGYuaG9sZGVyLmhhc0NsYXNzKHNlbGYub3B0aW9ucy5hY3RpdmVDbGFzcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zaG93U2xpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHNlbGYuaG9sZGVyLmJpbmQoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmhpZGVTbGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIG91dHNpZGUgY2xpY2sgaGFuZGxlclxyXG4gICAgICAgICAgICBzZWxmLm91dHNpZGVDbGlja0hhbmRsZXIgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5vcHRpb25zLmhpZGVPbkNsaWNrT3V0c2lkZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSAkKGUudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRhcmdldC5pcyhzZWxmLmhvbGRlcikgJiYgIXRhcmdldC5jbG9zZXN0KHNlbGYuaG9sZGVyKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5oaWRlU2xpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBzZXQgaW5pdGlhbCBzdHlsZXNcclxuICAgICAgICAgICAgaWYgKHRoaXMuaG9sZGVyLmhhc0NsYXNzKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcykpIHtcclxuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLmJpbmQoJ2NsaWNrIHRvdWNoc3RhcnQnLCBzZWxmLm91dHNpZGVDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zbGlkZXIuYWRkQ2xhc3Moc2xpZGVIaWRkZW5DbGFzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHNob3dTbGlkZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgaWYgKHNlbGYub3B0aW9ucy5hZGRDbGFzc0JlZm9yZUFuaW1hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5ob2xkZXIuYWRkQ2xhc3Moc2VsZi5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZWxmLnNsaWRlci5yZW1vdmVDbGFzcyhzbGlkZUhpZGRlbkNsYXNzKTtcclxuICAgICAgICAgICAgJChkb2N1bWVudCkuYmluZCgnY2xpY2sgdG91Y2hzdGFydCcsIHNlbGYub3V0c2lkZUNsaWNrSGFuZGxlcik7XHJcblxyXG4gICAgICAgICAgICBzZWxmLm1ha2VDYWxsYmFjaygnYW5pbVN0YXJ0JywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRvZ2dsZUVmZmVjdHNbc2VsZi5vcHRpb25zLmVmZmVjdF0uc2hvdyh7XHJcbiAgICAgICAgICAgICAgICBib3g6IHNlbGYuc2xpZGVyLFxyXG4gICAgICAgICAgICAgICAgc3BlZWQ6IHNlbGYub3B0aW9ucy5hbmltU3BlZWQsXHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLm9wdGlvbnMuYWRkQ2xhc3NCZWZvcmVBbmltYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ob2xkZXIuYWRkQ2xhc3Moc2VsZi5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5tYWtlQ2FsbGJhY2soJ2FuaW1FbmQnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBoaWRlU2xpZGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLm9wdGlvbnMuYWRkQ2xhc3NCZWZvcmVBbmltYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuaG9sZGVyLnJlbW92ZUNsYXNzKHNlbGYub3B0aW9ucy5hY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJChkb2N1bWVudCkudW5iaW5kKCdjbGljayB0b3VjaHN0YXJ0Jywgc2VsZi5vdXRzaWRlQ2xpY2tIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgICAgIHNlbGYubWFrZUNhbGxiYWNrKCdhbmltU3RhcnQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHRvZ2dsZUVmZmVjdHNbc2VsZi5vcHRpb25zLmVmZmVjdF0uaGlkZSh7XHJcbiAgICAgICAgICAgICAgICBib3g6IHNlbGYuc2xpZGVyLFxyXG4gICAgICAgICAgICAgICAgc3BlZWQ6IHNlbGYub3B0aW9ucy5hbmltU3BlZWQsXHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLm9wdGlvbnMuYWRkQ2xhc3NCZWZvcmVBbmltYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ob2xkZXIucmVtb3ZlQ2xhc3Moc2VsZi5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zbGlkZXIuYWRkQ2xhc3Moc2xpZGVIaWRkZW5DbGFzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5tYWtlQ2FsbGJhY2soJ2FuaW1FbmQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2xpZGVyLnJlbW92ZUNsYXNzKHNsaWRlSGlkZGVuQ2xhc3MpLmNzcyh7IGRpc3BsYXk6ICcnIH0pO1xyXG4gICAgICAgICAgICB0aGlzLm9wZW5lci51bmJpbmQodGhpcy5vcHRpb25zLmV2ZW50LCB0aGlzLmV2ZW50SGFuZGxlcik7XHJcbiAgICAgICAgICAgIHRoaXMuaG9sZGVyLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcykucmVtb3ZlRGF0YSgnT3BlbkNsb3NlJyk7XHJcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLnVuYmluZCgnY2xpY2sgdG91Y2hzdGFydCcsIHRoaXMub3V0c2lkZUNsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtYWtlQ2FsbGJhY2s6IGZ1bmN0aW9uKG5hbWUpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnNbbmFtZV0gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIGFyZ3Muc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uc1tuYW1lXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gYWRkIHN0eWxlc2hlZXQgZm9yIHNsaWRlIG9uIERPTVJlYWR5XHJcbiAgICB2YXIgc2xpZGVIaWRkZW5DbGFzcyA9ICdqcy1zbGlkZS1oaWRkZW4nO1xyXG4gICAgKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB0YWJTdHlsZVNoZWV0ID0gJCgnPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPicpWzBdO1xyXG4gICAgICAgIHZhciB0YWJTdHlsZVJ1bGUgPSAnLicgKyBzbGlkZUhpZGRlbkNsYXNzO1xyXG4gICAgICAgIHRhYlN0eWxlUnVsZSArPSAne3Bvc2l0aW9uOmFic29sdXRlICFpbXBvcnRhbnQ7bGVmdDotOTk5OXB4ICFpbXBvcnRhbnQ7dG9wOi05OTk5cHggIWltcG9ydGFudDtkaXNwbGF5OmJsb2NrICFpbXBvcnRhbnR9JztcclxuICAgICAgICBpZiAodGFiU3R5bGVTaGVldC5zdHlsZVNoZWV0KSB7XHJcbiAgICAgICAgICAgIHRhYlN0eWxlU2hlZXQuc3R5bGVTaGVldC5jc3NUZXh0ID0gdGFiU3R5bGVSdWxlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRhYlN0eWxlU2hlZXQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGFiU3R5bGVSdWxlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoJ2hlYWQnKS5hcHBlbmQodGFiU3R5bGVTaGVldCk7XHJcbiAgICB9KCkpO1xyXG5cclxuICAgIC8vIGFuaW1hdGlvbiBlZmZlY3RzXHJcbiAgICB2YXIgdG9nZ2xlRWZmZWN0cyA9IHtcclxuICAgICAgICBzbGlkZToge1xyXG4gICAgICAgICAgICBzaG93OiBmdW5jdGlvbihvKSB7XHJcbiAgICAgICAgICAgICAgICBvLmJveC5zdG9wKHRydWUpLmhpZGUoKS5zbGlkZURvd24oby5zcGVlZCwgby5jb21wbGV0ZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhpZGU6IGZ1bmN0aW9uKG8pIHtcclxuICAgICAgICAgICAgICAgIG8uYm94LnN0b3AodHJ1ZSkuc2xpZGVVcChvLnNwZWVkLCBvLmNvbXBsZXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZmFkZToge1xyXG4gICAgICAgICAgICBzaG93OiBmdW5jdGlvbihvKSB7XHJcbiAgICAgICAgICAgICAgICBvLmJveC5zdG9wKHRydWUpLmhpZGUoKS5mYWRlSW4oby5zcGVlZCwgby5jb21wbGV0ZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhpZGU6IGZ1bmN0aW9uKG8pIHtcclxuICAgICAgICAgICAgICAgIG8uYm94LnN0b3AodHJ1ZSkuZmFkZU91dChvLnNwZWVkLCBvLmNvbXBsZXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbm9uZToge1xyXG4gICAgICAgICAgICBzaG93OiBmdW5jdGlvbihvKSB7XHJcbiAgICAgICAgICAgICAgICBvLmJveC5oaWRlKCkuc2hvdygwLCBvLmNvbXBsZXRlKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaGlkZTogZnVuY3Rpb24obykge1xyXG4gICAgICAgICAgICAgICAgby5ib3guaGlkZSgwLCBvLmNvbXBsZXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8galF1ZXJ5IHBsdWdpbiBpbnRlcmZhY2VcclxuICAgICQuZm4ub3BlbkNsb3NlID0gZnVuY3Rpb24ob3B0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgalF1ZXJ5KHRoaXMpLmRhdGEoJ09wZW5DbG9zZScsIG5ldyBPcGVuQ2xvc2UoJC5leHRlbmQob3B0LCB7IGhvbGRlcjogdGhpcyB9KSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufShqUXVlcnkpKTtcclxuIiwiLy8gcGFnZSBpbml0XHJcbmpRdWVyeShmdW5jdGlvbigpe1xyXG5cdGluaXRUYWJzKCk7XHJcbn0pO1xyXG5cclxuLy8gY29udGVudCB0YWJzIGluaXRcclxuZnVuY3Rpb24gaW5pdFRhYnMoKSB7XHJcblx0alF1ZXJ5KCd1bC50YWJzZXQnKS50YWJzZXQoe1xyXG5cdFx0dGFiTGlua3M6ICdhJyxcclxuXHRcdGRlZmF1bHRUYWI6IGZhbHNlXHJcblx0fSk7XHJcbn1cclxuXHJcbi8qXHJcbiAqIGpRdWVyeSBUYWJzIHBsdWdpblxyXG4gKi9cclxuXHJcbjsoZnVuY3Rpb24oJCwgJHdpbikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0ZnVuY3Rpb24gVGFic2V0KCRob2xkZXIsIG9wdGlvbnMpIHtcclxuXHRcdHRoaXMuJGhvbGRlciA9ICRob2xkZXI7XHJcblx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG5cclxuXHRcdHRoaXMuaW5pdCgpO1xyXG5cdFx0dGhpcy5tYWtlQ2FsbGJhY2soJ29uSW5pdCcsIHRoaXMpO1xyXG5cdH1cclxuXHJcblx0VGFic2V0LnByb3RvdHlwZSA9IHtcclxuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLiR0YWJMaW5rcyA9IHRoaXMuJGhvbGRlci5maW5kKHRoaXMub3B0aW9ucy50YWJMaW5rcyk7XHJcblxyXG5cdFx0XHR0aGlzLnNldFN0YXJ0QWN0aXZlSW5kZXgoKTtcclxuXHRcdFx0dGhpcy5zZXRBY3RpdmVUYWIoKTtcclxuXHJcblx0XHRcdGlmICh0aGlzLm9wdGlvbnMuYXV0b0hlaWdodCkge1xyXG5cdFx0XHRcdHRoaXMuJHRhYkhvbGRlciA9ICQodGhpcy4kdGFiTGlua3MuZXEoMCkuYXR0cih0aGlzLm9wdGlvbnMuYXR0cmliKSkucGFyZW50KCk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0c2V0U3RhcnRBY3RpdmVJbmRleDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciAkY2xhc3NUYXJnZXRzID0gdGhpcy5nZXRDbGFzc1RhcmdldCh0aGlzLiR0YWJMaW5rcyk7XHJcblx0XHRcdHZhciAkYWN0aXZlTGluayA9ICRjbGFzc1RhcmdldHMuZmlsdGVyKCcuJyArIHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyk7XHJcblx0XHRcdHZhciAkaGFzaExpbmsgPSB0aGlzLiR0YWJMaW5rcy5maWx0ZXIoJ1snICsgdGhpcy5vcHRpb25zLmF0dHJpYiArICc9XCInICsgbG9jYXRpb24uaGFzaCArICdcIl0nKTtcclxuXHRcdFx0dmFyIGFjdGl2ZUluZGV4O1xyXG5cclxuXHRcdFx0aWYgKHRoaXMub3B0aW9ucy5jaGVja0hhc2ggJiYgJGhhc2hMaW5rLmxlbmd0aCkge1xyXG5cdFx0XHRcdCRhY3RpdmVMaW5rID0gJGhhc2hMaW5rO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRhY3RpdmVJbmRleCA9ICRjbGFzc1RhcmdldHMuaW5kZXgoJGFjdGl2ZUxpbmspO1xyXG5cclxuXHRcdFx0dGhpcy5hY3RpdmVUYWJJbmRleCA9IHRoaXMucHJldlRhYkluZGV4ID0gKGFjdGl2ZUluZGV4ID09PSAtMSA/ICh0aGlzLm9wdGlvbnMuZGVmYXVsdFRhYiA/IDAgOiBudWxsKSA6IGFjdGl2ZUluZGV4KTtcclxuXHRcdH0sXHJcblxyXG5cdFx0c2V0QWN0aXZlVGFiOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdFx0dGhpcy4kdGFiTGlua3MuZWFjaChmdW5jdGlvbihpLCBsaW5rKSB7XHJcblx0XHRcdFx0dmFyICRsaW5rID0gJChsaW5rKTtcclxuXHRcdFx0XHR2YXIgJGNsYXNzVGFyZ2V0ID0gc2VsZi5nZXRDbGFzc1RhcmdldCgkbGluayk7XHJcblx0XHRcdFx0dmFyICR0YWIgPSAkKCRsaW5rLmF0dHIoc2VsZi5vcHRpb25zLmF0dHJpYikpO1xyXG5cclxuXHRcdFx0XHRpZiAoaSAhPT0gc2VsZi5hY3RpdmVUYWJJbmRleCkge1xyXG5cdFx0XHRcdFx0JGNsYXNzVGFyZ2V0LnJlbW92ZUNsYXNzKHNlbGYub3B0aW9ucy5hY3RpdmVDbGFzcyk7XHJcblx0XHRcdFx0XHQkdGFiLmFkZENsYXNzKHNlbGYub3B0aW9ucy50YWJIaWRkZW5DbGFzcykucmVtb3ZlQ2xhc3Moc2VsZi5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0JGNsYXNzVGFyZ2V0LmFkZENsYXNzKHNlbGYub3B0aW9ucy5hY3RpdmVDbGFzcyk7XHJcblx0XHRcdFx0XHQkdGFiLnJlbW92ZUNsYXNzKHNlbGYub3B0aW9ucy50YWJIaWRkZW5DbGFzcykuYWRkQ2xhc3Moc2VsZi5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHNlbGYuYXR0YWNoVGFiTGluaygkbGluaywgaSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHJcblx0XHRhdHRhY2hUYWJMaW5rOiBmdW5jdGlvbigkbGluaywgaSkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0XHQkbGluay5vbih0aGlzLm9wdGlvbnMuZXZlbnQgKyAnLnRhYnNldCcsIGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0XHRcdGlmIChzZWxmLmFjdGl2ZVRhYkluZGV4ID09PSBzZWxmLnByZXZUYWJJbmRleCAmJiBzZWxmLmFjdGl2ZVRhYkluZGV4ICE9PSBpKSB7XHJcblx0XHRcdFx0XHRzZWxmLmFjdGl2ZVRhYkluZGV4ID0gaTtcclxuXHRcdFx0XHRcdHNlbGYuc3dpdGNoVGFicygpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdHJlc2l6ZUhvbGRlcjogZnVuY3Rpb24oaGVpZ2h0KSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRcdGlmIChoZWlnaHQpIHtcclxuXHRcdFx0XHR0aGlzLiR0YWJIb2xkZXIuaGVpZ2h0KGhlaWdodCk7XHJcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdHNlbGYuJHRhYkhvbGRlci5hZGRDbGFzcygndHJhbnNpdGlvbicpO1xyXG5cdFx0XHRcdH0sIDEwKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRzZWxmLiR0YWJIb2xkZXIucmVtb3ZlQ2xhc3MoJ3RyYW5zaXRpb24nKS5oZWlnaHQoJycpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdHN3aXRjaFRhYnM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0XHR2YXIgJHByZXZMaW5rID0gdGhpcy4kdGFiTGlua3MuZXEodGhpcy5wcmV2VGFiSW5kZXgpO1xyXG5cdFx0XHR2YXIgJG5leHRMaW5rID0gdGhpcy4kdGFiTGlua3MuZXEodGhpcy5hY3RpdmVUYWJJbmRleCk7XHJcblxyXG5cdFx0XHR2YXIgJHByZXZUYWIgPSB0aGlzLmdldFRhYigkcHJldkxpbmspO1xyXG5cdFx0XHR2YXIgJG5leHRUYWIgPSB0aGlzLmdldFRhYigkbmV4dExpbmspO1xyXG5cclxuXHRcdFx0JHByZXZUYWIucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcclxuXHJcblx0XHRcdGlmIChzZWxmLmhhdmVUYWJIb2xkZXIoKSkge1xyXG5cdFx0XHRcdHRoaXMucmVzaXplSG9sZGVyKCRwcmV2VGFiLm91dGVySGVpZ2h0KCkpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHNlbGYuZ2V0Q2xhc3NUYXJnZXQoJHByZXZMaW5rKS5yZW1vdmVDbGFzcyhzZWxmLm9wdGlvbnMuYWN0aXZlQ2xhc3MpO1xyXG5cclxuXHRcdFx0XHQkcHJldlRhYi5hZGRDbGFzcyhzZWxmLm9wdGlvbnMudGFiSGlkZGVuQ2xhc3MpO1xyXG5cdFx0XHRcdCRuZXh0VGFiLnJlbW92ZUNsYXNzKHNlbGYub3B0aW9ucy50YWJIaWRkZW5DbGFzcykuYWRkQ2xhc3Moc2VsZi5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcclxuXHJcblx0XHRcdFx0c2VsZi5nZXRDbGFzc1RhcmdldCgkbmV4dExpbmspLmFkZENsYXNzKHNlbGYub3B0aW9ucy5hY3RpdmVDbGFzcyk7XHJcblxyXG5cdFx0XHRcdGlmIChzZWxmLmhhdmVUYWJIb2xkZXIoKSkge1xyXG5cdFx0XHRcdFx0c2VsZi5yZXNpemVIb2xkZXIoJG5leHRUYWIub3V0ZXJIZWlnaHQoKSk7XHJcblxyXG5cdFx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5yZXNpemVIb2xkZXIoKTtcclxuXHRcdFx0XHRcdFx0c2VsZi5wcmV2VGFiSW5kZXggPSBzZWxmLmFjdGl2ZVRhYkluZGV4O1xyXG5cdFx0XHRcdFx0fSwgc2VsZi5vcHRpb25zLmFuaW1TcGVlZCk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHNlbGYucHJldlRhYkluZGV4ID0gc2VsZi5hY3RpdmVUYWJJbmRleDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gb25jaGFuZ2UgY2FsbGJhY2tcclxuXHRcdFx0XHRzZWxmLm1ha2VDYWxsYmFjaygnb25DaGFuZ2UnLCBzZWxmLCAkbmV4dExpbmspO1xyXG5cdFx0XHR9LCB0aGlzLm9wdGlvbnMuYXV0b0hlaWdodCA/IHRoaXMub3B0aW9ucy5hbmltU3BlZWQgOiAxKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0Z2V0Q2xhc3NUYXJnZXQ6IGZ1bmN0aW9uKCRsaW5rKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLm9wdGlvbnMuYWRkVG9QYXJlbnQgPyAkbGluay5wYXJlbnQoKSA6ICRsaW5rO1xyXG5cdFx0fSxcclxuXHJcblx0XHRnZXRBY3RpdmVUYWI6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRUYWIodGhpcy4kdGFiTGlua3MuZXEodGhpcy5hY3RpdmVUYWJJbmRleCkpO1xyXG5cdFx0fSxcclxuXHJcblx0XHRnZXRUYWI6IGZ1bmN0aW9uKCRsaW5rKSB7XHJcblx0XHRcdHJldHVybiAkKCRsaW5rLmF0dHIodGhpcy5vcHRpb25zLmF0dHJpYikpO1xyXG5cdFx0fSxcclxuXHJcblx0XHRoYXZlVGFiSG9sZGVyOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuJHRhYkhvbGRlciAmJiB0aGlzLiR0YWJIb2xkZXIubGVuZ3RoO1xyXG5cdFx0fSxcclxuXHJcblx0XHRtYWtlQ2FsbGJhY2s6IGZ1bmN0aW9uKG5hbWUpIHtcclxuXHRcdFx0aWYodHlwZW9mIHRoaXMub3B0aW9uc1tuYW1lXSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcclxuXHRcdFx0XHRhcmdzLnNoaWZ0KCk7XHJcblx0XHRcdFx0dGhpcy5vcHRpb25zW25hbWVdLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0XHR0aGlzLiR0YWJMaW5rcy5vZmYoJy50YWJzZXQnKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHZhciAkbGluayA9ICQodGhpcyk7XHJcblxyXG5cdFx0XHRcdHNlbGYuZ2V0Q2xhc3NUYXJnZXQoJGxpbmspLnJlbW92ZUNsYXNzKHNlbGYub3B0aW9ucy5hY3RpdmVDbGFzcyk7XHJcblx0XHRcdFx0JCgkbGluay5hdHRyKHNlbGYub3B0aW9ucy5hdHRyaWIpKS5yZW1vdmVDbGFzcyhzZWxmLm9wdGlvbnMuYWN0aXZlQ2xhc3MgKyAnICcgKyBzZWxmLm9wdGlvbnMudGFiSGlkZGVuQ2xhc3MpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHRoaXMuJGhvbGRlci5yZW1vdmVEYXRhKCdUYWJzZXQnKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQkLmZuLnRhYnNldCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuXHRcdG9wdGlvbnMgPSAkLmV4dGVuZCh7XHJcblx0XHRcdGFjdGl2ZUNsYXNzOiAnYWN0aXZlJyxcclxuXHRcdFx0YWRkVG9QYXJlbnQ6IGZhbHNlLFxyXG5cdFx0XHRhdXRvSGVpZ2h0OiBmYWxzZSxcclxuXHRcdFx0Y2hlY2tIYXNoOiBmYWxzZSxcclxuXHRcdFx0ZGVmYXVsdFRhYjogdHJ1ZSxcclxuXHRcdFx0YW5pbVNwZWVkOiA1MDAsXHJcblx0XHRcdHRhYkxpbmtzOiAnYScsXHJcblx0XHRcdGF0dHJpYjogJ2hyZWYnLFxyXG5cdFx0XHRldmVudDogJ2NsaWNrJyxcclxuXHRcdFx0dGFiSGlkZGVuQ2xhc3M6ICdqcy10YWItaGlkZGVuJ1xyXG5cdFx0fSwgb3B0aW9ucyk7XHJcblx0XHRvcHRpb25zLmF1dG9IZWlnaHQgPSBvcHRpb25zLmF1dG9IZWlnaHQgJiYgJC5zdXBwb3J0Lm9wYWNpdHk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyICRob2xkZXIgPSAkKHRoaXMpO1xyXG5cclxuXHRcdFx0aWYgKCEkaG9sZGVyLmRhdGEoJ1RhYnNldCcpKSB7XHJcblx0XHRcdFx0JGhvbGRlci5kYXRhKCdUYWJzZXQnLCBuZXcgVGFic2V0KCRob2xkZXIsIG9wdGlvbnMpKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fTtcclxufShqUXVlcnksIGpRdWVyeSh3aW5kb3cpKSk7Il19
